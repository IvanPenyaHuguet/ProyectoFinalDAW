{"version":3,"sources":["webpack://daw/./src/main/js/components/table/ReagentTable.js","webpack://daw/./src/main/js/lib/tabledata/ReagentTableConf.js","webpack://daw/./src/main/js/pages/reagent/AllReagents.js"],"names":["ReagentTable","useTranslation","t","TITLE","useContext","AuthContext","user","useState","data","setData","loading","setLoading","controlledPageCount","setControlledPageCount","totalElements","setTotalElements","fetchIdRef","useRef","filterLocation","setFilterLocation","filterUtilization","setFilterUtilization","filter","setFilter","history","useHistory","columns","useMemo","RTCColumns","searchFields","RTCSearchFields","fieldsToSearch","setFieldsToSearch","elementsToSearch","setElementsToSearch","previousStates","elements","text","pageIndex","pageSize","location","utilization","sortBy","previous","useEffect","undefined","current","speedDial","actions","icon","name","click","reagentPDF","role","unshift","push","fetchData","useCallback","pageindex","pagesize","textToSearch","fetchId","filterLocationChanged","filterUtilizationChanged","elementsChanged","length","textChanged","sortByChanged","pageChanged","SearchService","then","res","processResult","err","errorService","BackendService","selected","value","e","result","numPages","Header","accessor","show","disableSortBy","disableFilters","id","Cell","row","original","counts","element","atomicNumber","total","item","i","Filter","SelectColumnFilterLocation","SelectColumnFilterUtilization","suppliers","supplier","AllReagents"],"mappings":"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","file":"src_main_js_pages_reagent_AllReagents_js.bundle.js","sourcesContent":["import React, { useMemo, useState, useCallback, useRef, useEffect, useContext } from 'react';\r\nimport BackendService from '../../service/backend/AllReagentService';\r\nimport TableBase from './basecomponents/TableBase';\r\n\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport ExcelIcon from '../icons/ExcelIcon';\r\nimport CSVIcon from '../icons/CSVIcon';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\nimport { SearchFieldContext } from '../../context/SearchFieldContext';\r\nimport { SearchElementsContext } from '../../context/SearchElementsContext';\r\nimport SearchService from '../../service/backend/Search/SearchService';\r\nimport errorService from '../../service/error/ErrorController';\r\nimport { FilterLocationContext } from '../../context/utils/FilterLocationContext';\r\nimport { FilterUtilizationContext } from '../../context/utils/FilterUtilizationContext';\r\nimport { SpeedDialContext } from '../../context/utils/SpeedDialContext';\r\nimport { AuthContext } from '../../context/AuthContextProvider';\r\nimport reagentPDF from '../../lib/export/ReagentPdf';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { RTCSearchFields, RTCColumns } from '../../lib/tabledata/ReagentTableConf';\r\nimport { TableContext } from '../../context/utils/TableContext.js';\r\n\r\n\r\n\r\nconst ReagentTable = () => {\r\n   \r\n    const { t } = useTranslation();\r\n    const TITLE = t('table.title.reagents.reagents');\r\n    const { user } = useContext(AuthContext);      \r\n    const [ data , setData ] = useState([]);     \r\n    const [ loading, setLoading ] = useState(false); \r\n    const [ controlledPageCount, setControlledPageCount ] = useState(0);\r\n    const [ totalElements, setTotalElements ] = useState (0);\r\n    const fetchIdRef = useRef(0);\r\n    const [ filterLocation, setFilterLocation ] = useState('');\r\n    const [ filterUtilization, setFilterUtilization ] = useState('');\r\n    const [ filter, setFilter ] = useState(null);\r\n    const history = useHistory();\r\n    const columns = useMemo (() => RTCColumns(t));\r\n    const searchFields = RTCSearchFields(t);\r\n    const [ fieldsToSearch, setFieldsToSearch ] = useState(searchFields);\r\n    const [ elementsToSearch, setElementsToSearch ] = useState({});\r\n\r\n    const previousStates = useRef({\r\n        elements: [],\r\n        text: '',\r\n        pageIndex: 0,\r\n        pageSize: 10,\r\n        location: '',\r\n        utilization: '',\r\n        sortBy: {},\r\n        previous: 0,\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (filterLocation != undefined && filterLocation != '' && filterLocation  !== previousStates.current.location){\r\n            setFilter({ ...filter, location: filterLocation });            \r\n        }\r\n        else if (filterUtilization != undefined && filterUtilization != '' && filterUtilization  !== previousStates.current.utilization) {\r\n            setFilter({ ...filter, utilization: filterUtilization });            \r\n        }\r\n        else {            \r\n            setFilter(null);\r\n        }        \r\n    }, [filterLocation, filterUtilization]) \r\n    \r\n    const speedDial = useMemo ( () => {\r\n        const actions = [        ,\r\n            { icon: <SaveIcon />, name: t('table.tooltip.save'), click: () => reagentPDF.generatePdf({columns}, false)},\r\n            { icon: <PrintIcon />, name: t('table.tooltip.print'), click: () => reagentPDF.generatePdf({columns}, true) },\r\n            { icon: <ExcelIcon />, name: t('table.tooltip.excel'), click: () => reagentPDF.generateExcel(\"Reagents\") },\r\n            { icon: <CSVIcon />, name: t('table.tooltip.csv'), click: () => reagentPDF.generateCSV({columns: columns})},\r\n        ];    \r\n        if (user.role.includes(\"ROLE_ADD_ALL\")) {       \r\n            actions.unshift({ icon: <AddIcon /> , name: t('table.tooltip.add'), click: () => history.push(\"/reagent/add\") });\r\n        }\r\n        return actions;\r\n    },[])    \r\n    \r\n\r\n    const fetchData = useCallback((pageindex, pagesize, textToSearch, elementsToSearch, sortBy, filter) => {\r\n        const fetchId = ++fetchIdRef.current;\r\n        const filterLocationChanged = filter ? filter.location  !== previousStates.current.location && filter.location !== '0' && filter.location != null : false;\r\n        const filterUtilizationChanged = filter ? filter.utilization !== previousStates.current.utilization && filter.utilization !== '0' && filter.utilization != null && filter.utilization !== 'All' : false;\r\n        const elementsChanged = elementsToSearch && Object.keys(elementsToSearch).length > 0 && elementsToSearch != previousStates.current.elements;\r\n        const textChanged = textToSearch !== previousStates.current.text;\r\n        const sortByChanged = sortBy !== previousStates.current.sortBy;\r\n        const pageChanged = pageindex !== previousStates.current.pageIndex || pagesize !== previousStates.current.pageSize;\r\n\r\n                \r\n        if (fetchId === fetchIdRef.current) {\r\n            \r\n            setLoading(true);\r\n\r\n            if ( elementsChanged || ( pageChanged && previousStates.current.previous == 'E')) {\r\n                previousStates.current.elements = elementsToSearch;\r\n                previousStates.current.previous = 'E'; \r\n                (SearchService.searchReagentByElements(pageindex, pagesize, elementsToSearch)\r\n                    .then (res => processResult(res))\r\n                    .catch( err => errorService.checkError(err)));                \r\n            }\r\n            else if (filterLocationChanged || ( (sortByChanged || pageChanged) && previousStates.current.previous == 'L')){\r\n                previousStates.current.location = filter.location;\r\n                previousStates.current.previous = 'L';               \r\n                BackendService.getPageLocation(filter.location, pageindex, pagesize, sortBy)\r\n                    .then (res => processResult(res))\r\n                    .catch( err => errorService.checkError(err));  \r\n            }\r\n            else if (filterUtilizationChanged || ( (sortByChanged || pageChanged) && previousStates.current.previous == 'U')){ \r\n                previousStates.current.utilization = filter.utilization;\r\n                previousStates.current.previous = 'U';                \r\n                BackendService.getPageUtilization(filter.utilization, pageindex, pagesize, sortBy)\r\n                    .then (res => processResult(res))\r\n                    .catch( err => errorService.checkError(err));  \r\n            }\r\n            else if(textChanged || ( pageChanged && previousStates.current.previous == 'T')) {  \r\n                previousStates.current.text = textToSearch;\r\n                previousStates.current.previous = 'T';              \r\n                SearchService.searchReagentPage(pageindex, pagesize, textToSearch, fieldsToSearch.filter( ({selected}) => selected===true).map(({value}) =>  value ))\r\n                    .then (res => processResult(res))\r\n                    .catch( err => errorService.checkError(err));                \r\n            }\r\n            else {   \r\n                previousStates.current.previous = 'G';              \r\n                BackendService.getPage( pageindex, pagesize, sortBy )\r\n                .then (res => processResult(res))\r\n                .catch (e => errorService.checkError(e));                \r\n            }\r\n            \r\n            const processResult = result => {                \r\n                setLoading(false);       \r\n                setControlledPageCount(result.data.numPages);  \r\n                setTotalElements(result.data.totalElements);  \r\n                setData(result.data.data);\r\n                previousStates.current.sortBy = sortBy;\r\n                previousStates.current.pageIndex = pageindex;\r\n                previousStates.current.pageSize = pagesize;                \r\n            }\r\n            \r\n        }        \r\n        \r\n    },[]);    \r\n    \r\n    \r\n\r\n    return (\r\n        <>   \r\n            <TableContext.Provider value={\"InorganicReagent\"}>\r\n                <SpeedDialContext.Provider value={speedDial}>\r\n                    <SearchFieldContext.Provider value={{fieldsToSearch, setFieldsToSearch}}>  \r\n                        <SearchElementsContext.Provider value={{elementsToSearch, setElementsToSearch}}>\r\n                            <FilterLocationContext.Provider value={{ filterLocation, setFilterLocation }} >\r\n                                <FilterUtilizationContext.Provider value={{ filterUtilization, setFilterUtilization }}>\r\n                                    <TableBase \r\n                                        columns={columns} \r\n                                        backendService={BackendService} \r\n                                        loading={loading} \r\n                                        setLoading={setLoading}\r\n                                        data={data} \r\n                                        controlledPageCount={controlledPageCount} \r\n                                        totalElements={totalElements}\r\n                                        title={TITLE}\r\n                                        fetchData={fetchData}\r\n                                        searchFields={searchFields} \r\n                                        filter={filter}                  \r\n                                    /> \r\n                                </FilterUtilizationContext.Provider>  \r\n                            </FilterLocationContext.Provider>\r\n                        </SearchElementsContext.Provider>\r\n                    </SearchFieldContext.Provider>\r\n                </SpeedDialContext.Provider>\r\n            </TableContext.Provider>  \r\n        </>\r\n    )\r\n\r\n}\r\nexport default ReagentTable;","import React from 'react';\r\n\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Chip from '@material-ui/core/Chip';\r\n\r\nimport SelectColumnFilterLocation from '../../components/table/filter/SelectColumnFilterLocation';\r\nimport SelectColumnFilterUtilization from '../../components/table/filter/SelectColumnFilterUtilization';\r\n\r\n\r\nexport const RTCSearchFields = t => { return [\r\n    {\r\n        value: \"spanishName\",\r\n        name: t('table.column.spanishName'),\r\n        selected: true\r\n    },{\r\n        value: \"englishName\",\r\n        name: t('table.column.englishName'),\r\n        selected: true\r\n    },{\r\n        value: \"cas\",\r\n        name: t('table.column.cas'),\r\n        selected: false\r\n    },{\r\n        value: \"internalReference\",\r\n        name: t('table.column.reference'),\r\n        selected: true\r\n    },{\r\n        value: \"utilization\",\r\n        name: t('table.column.utilization'),\r\n        selected: false\r\n    },{\r\n        value: \"elements.englishName\",\r\n        name: t('table.column.elements'),\r\n        selected: false\r\n    },{\r\n        value: \"secondaryIntReference\",\r\n        name: t('table.column.secondaryintreference'),\r\n        selected: true\r\n    }];\r\n};\r\n\r\nexport const RTCColumns = t => {return [\r\n    {\r\n        Header: t('table.column.id'),\r\n        accessor: \"id\",\r\n        show: false,\r\n        disableSortBy: false,\r\n        disableFilters: true \r\n    },{\r\n        Header: t('table.column.reference'),\r\n        accessor: \"internalReference\",\r\n        disableSortBy: false,\r\n        disableFilters: true\r\n    },{\r\n        Header: t('table.column.spanishName'),\r\n        accessor: \"spanishName\",\r\n        disableSortBy: false,\r\n        disableFilters: true\r\n    },{\r\n        Header: t('table.column.englishName'),\r\n        accessor: \"englishName\",\r\n        show: false,\r\n        disableSortBy: false,\r\n        disableFilters: true\r\n    },{\r\n        Header: t('table.column.elements'),\r\n        accessor: \"elements\",\r\n        id: \"elements\",\r\n        show: true,\r\n        Cell: row => {\r\n            const elements = row.row.original.elements;  \r\n            let counts = {};\r\n            elements.forEach(function(element) { \r\n                counts[element.atomicNumber] = {\r\n                    total: counts[element.atomicNumber] ?  counts[element.atomicNumber].total + 1 : 1,\r\n                    element: element\r\n                }; \r\n            });                \r\n            return (\r\n                <div>\r\n                    {Object.keys(counts).map((item, i) => ( \r\n                        <Chip  avatar={<Avatar>{counts[item].element.element}</Avatar>} label={counts[item].total} variant=\"outlined\" key={i}/>\r\n                    ))}                      \r\n                </div>\r\n            )\r\n        },\r\n        disableSortBy: true,\r\n        disableFilters: true\r\n    },{\r\n        Header: t('table.column.formula'),\r\n        accessor: \"formula\",\r\n        id: \"formula\",\r\n        show: false,\r\n        disableSortBy: false,\r\n        disableFilters: true\r\n    },{\r\n        Header: t('table.column.type'),\r\n        accessor: \"reagentType\",\r\n        disableSortBy: false,\r\n        disableFilters: true\r\n    },{\r\n        Header: t('table.column.quantity'),\r\n        accessor: \"quantity\",\r\n        disableSortBy: false,\r\n        disableFilters: true\r\n    },{\r\n        Header: t('table.column.location'),\r\n        accessor: \"location.name\",\r\n        disableSortBy: true,\r\n        disableFilters: false,\r\n        Filter: SelectColumnFilterLocation,            \r\n    },{\r\n        Header: t('table.column.utilization'),\r\n        accessor: \"utilization\",\r\n        disableSortBy: true,\r\n        disableFilters: false,\r\n        Filter: SelectColumnFilterUtilization,\r\n    },{\r\n        Header: t('table.column.cas'),\r\n        accessor: \"cas\",\r\n        show: false,\r\n        disableSortBy: false,\r\n        disableFilters: true\r\n    },{\r\n        Header: t('table.column.receptionDate'),\r\n        accessor: \"entryDate\",\r\n        show: false,\r\n        disableSortBy: false,\r\n        disableFilters: true\r\n    },{\r\n        Header: t('table.column.boughtBy'),\r\n        accessor: \"user.name\",\r\n        show: false,\r\n        disableSortBy: true,\r\n        disableFilters: true\r\n    },{\r\n        Header: t('table.column.molecularWeight'),\r\n        accessor: \"molecularWeight\",\r\n        show: false,\r\n        disableSortBy: false,\r\n        disableFilters: true\r\n    },{\r\n        Header: t('table.column.supplier'),\r\n        accessor: \"suppliers\",\r\n        id: \"suppliers\",\r\n        show: false,\r\n        Cell: row => {\r\n            const suppliers = row.row.original.suppliers;             \r\n            return (\r\n                <>\r\n                    {Object.keys(suppliers).map((item, i) => (\r\n                        <div key={suppliers[item].supplier.id}>\r\n                            <span className=\"\">\r\n                            {suppliers[item].supplier.name} \r\n                            </span> \r\n                            <Divider orientation=\"vertical\" flexItem /> \r\n                        </div>                          \r\n                    ))}\r\n                </>\r\n            )\r\n        },\r\n        disableSortBy: true,\r\n        disableFilters: true\r\n    }\r\n]};","import React from 'react';\r\nimport ReagentTable from \"../../components/table/ReagentTable\";\r\n\r\nexport default function AllReagents () {\r\n    return (<>\r\n         <ReagentTable />\r\n    </>)\r\n}"],"sourceRoot":""}