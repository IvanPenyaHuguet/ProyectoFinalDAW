{"version":3,"sources":["webpack://daw/./src/main/js/components/table/ReagentTable.js","webpack://daw/./src/main/js/components/table/filter/SelectColumnFilter.js","webpack://daw/./src/main/js/components/table/filter/SelectColumnFilterLocation.js","webpack://daw/./src/main/js/hooks/useHasChanged.js","webpack://daw/./src/main/js/pages/reagent/AllReagents.js","webpack://daw/./src/main/js/service/backend/SearchService.js","webpack://daw/./src/main/js/css/components/table/filter/SelectColumn.module.css","webpack://daw/./src/main/js/css/components/table/filter/SelectColumn.module.css?165f"],"names":["ReagentTable","useTranslation","t","TITLE","useState","data","setData","skipPageResetRef","useRef","oldData","loading","setLoading","controlledPageCount","setControlledPageCount","totalElements","setTotalElements","fetchIdRef","columns","useMemo","Header","accessor","show","disableSortBy","disableFilters","accesor","id","Cell","row","elements","original","counts","element","atomicNumber","total","item","i","Filter","SelectColumnFilterLocation","suppliers","supplier","name","searchFields","value","selected","fieldsToSearch","setFieldsToSearch","elementsToSearch","setElementsToSearch","fetchData","useCallback","pageindex","pagesize","textToSearch","sortBy","filterLocation","fetchId","current","filterLocationChanged","elementsChanged","length","textChanged","SearchService","then","res","processResult","err","errorService","console","log","BackendService","e","result","numPages","useStyles","makeStyles","theme","formControl","margin","spacing","minWidth","SelectColumnFilter","filter","setFilter","labelname","store","anchorEl","setAnchorEl","classes","items","setItems","onSelectChange","target","undefined","onClick","currentTarget","onCloseClick","useEffect","col","open","Boolean","idn","styles","container","vertical","horizontal","locations","useContext","LocationStore","FilterContext","setFilterLocation","memoLocations","useHasChanged","val","prevVal","usePrevious","ref","AllReagents","BackendServiceConf","axios","page","size","search","fields","URL"],"mappings":"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","file":"src_main_js_pages_reagent_AllReagents_js.bundle.js","sourcesContent":["import React, { useMemo, useState, useCallback, useRef, useEffect } from 'react';\r\nimport BackendService from '../../service/backend/AllReagentService';\r\nimport TableBase from './basecomponents/TableBase';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Chip from '@material-ui/core/Chip';\r\n\r\n\r\nimport { useTranslation } from 'react-i18next';\r\nimport { SearchFieldContext } from '../../context/SearchFieldContext';\r\nimport { SearchElementsContext } from '../../context/SearchElementsContext';\r\nimport SearchService from '../../service/backend/SearchService';\r\nimport errorService from '../../service/error/ErrorController';\r\nimport SelectColumnFilterLocation from './filter/SelectColumnFilterLocation';\r\nimport useHasChanged from '../../hooks/useHasChanged';\r\n\r\n\r\n\r\nconst ReagentTable = () => {\r\n   \r\n    const { t } = useTranslation();\r\n    const TITLE = t('table.title.reagents');\r\n    const [ data , setData ] = useState([]); \r\n    const skipPageResetRef = useRef(); \r\n    const oldData = useRef();\r\n    const [ loading, setLoading ] = useState(false); \r\n    const [ controlledPageCount, setControlledPageCount ] = useState(0);\r\n    const [ totalElements, setTotalElements ] = useState (0);\r\n    const fetchIdRef = useRef(0);\r\n   \r\n    \r\n\r\n    const columns = useMemo (() => [\r\n        {\r\n            Header: t('table.column.id'),\r\n            accessor: \"id\",\r\n            show: false,\r\n            disableSortBy: false,\r\n            disableFilters: true \r\n        },{\r\n            Header: t('table.column.reference'),\r\n            accessor: \"internalReference\",\r\n            disableSortBy: false,\r\n            disableFilters: true\r\n        },{\r\n            Header: t('table.column.spanishName'),\r\n            accessor: \"spanishName\",\r\n            disableSortBy: false,\r\n            disableFilters: true\r\n        },{\r\n            Header: t('table.column.englishName'),\r\n            accessor: \"englishName\",\r\n            show: false,\r\n            disableSortBy: false,\r\n            disableFilters: true\r\n        },{\r\n            Header: t('table.column.elements'),\r\n            accesor: \"elements\",\r\n            id: \"elements\",\r\n            show: true,\r\n            Cell: row => {\r\n                const elements = row.row.original.elements;  \r\n                let counts = {};\r\n                elements.forEach(function(element) { \r\n                    counts[element.atomicNumber] = {\r\n                        total: counts[element.atomicNumber] ?  counts[element.atomicNumber].total + 1 : 1,\r\n                        element: element\r\n                    }; \r\n                });                \r\n                return (\r\n                    <div>\r\n                        {Object.keys(counts).map((item, i) => ( \r\n                            <Chip  avatar={<Avatar>{counts[item].element.element}</Avatar>} label={counts[item].total} variant=\"outlined\" key={i}/>\r\n                        ))}                      \r\n                    </div>\r\n                )\r\n            },\r\n            disableSortBy: true,\r\n            disableFilters: true\r\n        },{\r\n            Header: t('table.column.formula'),\r\n            accesor: \"formula\",\r\n            id: \"formula\",\r\n            show: false,\r\n            disableSortBy: false,\r\n            disableFilters: true\r\n        },{\r\n            Header: t('table.column.type'),\r\n            accessor: \"reagentType\",\r\n            disableSortBy: false,\r\n            disableFilters: true\r\n        },{\r\n            Header: t('table.column.quantity'),\r\n            accessor: \"quantity\",\r\n            disableSortBy: false,\r\n            disableFilters: true\r\n        },{\r\n            Header: t('table.column.location'),\r\n            accessor: \"location.name\",\r\n            disableSortBy: false,\r\n            disableFilters: false,\r\n            Filter: SelectColumnFilterLocation,            \r\n        },{\r\n            Header: t('table.column.utilization'),\r\n            accessor: \"utilization\",\r\n            disableSortBy: true,\r\n            disableFilters: true\r\n        },{\r\n            Header: t('table.column.cas'),\r\n            accessor: \"cas\",\r\n            show: false,\r\n            disableSortBy: false,\r\n            disableFilters: true\r\n        },{\r\n            Header: t('table.column.receptionDate'),\r\n            accessor: \"entryDate\",\r\n            show: false,\r\n            disableSortBy: false,\r\n            disableFilters: true\r\n        },{\r\n            Header: t('table.column.boughtBy'),\r\n            accessor: \"user.name\",\r\n            show: false,\r\n            disableSortBy: true,\r\n            disableFilters: true\r\n        },{\r\n            Header: t('table.column.molecularWeight'),\r\n            accessor: \"molecularWeight\",\r\n            show: false,\r\n            disableSortBy: false,\r\n            disableFilters: true\r\n        },{\r\n            Header: t('table.column.supplier'),\r\n            accesor: \"suppliers\",\r\n            id: \"suppliers\",\r\n            show: false,\r\n            Cell: row => {\r\n                const suppliers = row.row.original.suppliers;             \r\n                return (\r\n                    <>\r\n                        {Object.keys(suppliers).map((item, i) => (\r\n                            <div key={suppliers[item].supplier.id}>\r\n                                <span className=\"\">\r\n                                {suppliers[item].supplier.name} \r\n                                </span> \r\n                                <Divider orientation=\"vertical\" flexItem /> \r\n                            </div>                          \r\n                        ))}\r\n                    </>\r\n                )\r\n            },\r\n            disableSortBy: true,\r\n            disableFilters: true\r\n        }\r\n    ], []);\r\n\r\n    const searchFields = [\r\n    {\r\n        value: \"spanishName\",\r\n        name: t('table.column.spanishName'),\r\n        selected: true\r\n    },{\r\n        value: \"englishName\",\r\n        name: t('table.column.englishName'),\r\n        selected: true\r\n    },{\r\n        value: \"cas\",\r\n        name: t('table.column.cas'),\r\n        selected: false\r\n    },{\r\n        value: \"internalReference\",\r\n        name: t('table.column.reference'),\r\n        selected: true\r\n    },{\r\n        value: \"utilization\",\r\n        name: t('table.column.utilization'),\r\n        selected: false\r\n    },{\r\n        value: \"elements.englishName\",\r\n        name: t('table.column.elements'),\r\n        selected: false\r\n    },{\r\n        value: \"secondaryIntReference\",\r\n        name: t('table.column.secondaryintreference'),\r\n        selected: true\r\n    }];\r\n    \r\n    const [ fieldsToSearch, setFieldsToSearch ] = useState(searchFields);\r\n    const [ elementsToSearch, setElementsToSearch ] = useState({});\r\n\r\n    const fetchData = useCallback((pageindex, pagesize, textToSearch, elementsToSearch, sortBy, filterLocation) => {\r\n        const fetchId = ++fetchIdRef.current;\r\n        const filterLocationChanged = filterLocation  !== '' && filterLocation !== '0';\r\n        const elementsChanged = elementsToSearch && Object.keys(elementsToSearch).length > 0;\r\n        const textChanged = textToSearch !== '';\r\n        \r\n\r\n        if (fetchId === fetchIdRef.current) {\r\n            \r\n            setLoading(true);\r\n            if ( elementsChanged) {\r\n                (SearchService.searchReagentByElements(pageindex, pagesize, elementsToSearch)\r\n                    .then (res => processResult(res))\r\n                    .catch( err => errorService.checkError(err)));\r\n                console.log(\"elements\")\r\n            }\r\n            else if (filterLocationChanged){                \r\n                BackendService.getPageLocation(filterLocation, pageindex, pagesize, sortBy)\r\n                    .then (res => processResult(res))\r\n                    .catch( err => errorService.checkError(err));                \r\n            }\r\n            else if(textChanged) {                \r\n                SearchService.searchReagentPage(pageindex, pagesize, textToSearch, fieldsToSearch.filter( ({selected}) => selected===true).map(({value}) =>  value ))\r\n                    .then (res => processResult(res))\r\n                    .catch( err => errorService.checkError(err));\r\n                    console.log(\"text\")\r\n            }\r\n            else {                \r\n                BackendService.getPage( pageindex, pagesize, sortBy )\r\n                .then (res => processResult(res))\r\n                .catch (e => errorService.checkError(e));\r\n            }\r\n            const processResult = result => {                \r\n                setLoading(false);       \r\n                setControlledPageCount(result.data.numPages);  \r\n                setTotalElements(result.data.totalElements);  \r\n                setData(result.data.data);\r\n            }\r\n            \r\n        }        \r\n        \r\n    },[]);    \r\n    \r\n    \r\n\r\n    return (\r\n        <>     \r\n        <SearchFieldContext.Provider value={{fieldsToSearch, setFieldsToSearch}}>  \r\n            <SearchElementsContext.Provider value={{elementsToSearch, setElementsToSearch}}>\r\n                <TableBase \r\n                    columns={columns} \r\n                    backendService={BackendService} \r\n                    loading={loading} \r\n                    data={data} \r\n                    controlledPageCount={controlledPageCount} \r\n                    totalElements={totalElements}\r\n                    title={TITLE}\r\n                    fetchData={fetchData}\r\n                    searchFields={searchFields}                   \r\n                />   \r\n            </SearchElementsContext.Provider>\r\n        </SearchFieldContext.Provider>\r\n        </>\r\n    )\r\n\r\n}\r\nexport default ReagentTable;","import React, {  useState, useEffect} from'react';\r\n\r\nimport ListIcon from '@material-ui/icons/List';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\n\r\n\r\nimport Container from '../../container/Container';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport styles from '../../../css/components/table/filter/SelectColumn.module.css';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 120,\r\n    }   \r\n}));\r\n\r\nexport default function SelectColumnFilter ({ filter, setFilter, labelname , store }) {    \r\n    \r\n    const { t } = useTranslation();\r\n    const [ anchorEl, setAnchorEl ] = useState(null);\r\n    const classes = useStyles();\r\n    const [items, setItems] = useState([])\r\n\r\n    const onSelectChange = (e) => {      \r\n        setFilter(e.target.value || undefined);\r\n    }\r\n    const onClick = (e) => {\r\n        setAnchorEl(e.currentTarget);        \r\n    };\r\n    const onCloseClick = () => {\r\n        setAnchorEl(null);\r\n    }\r\n    useEffect( () => {\r\n        if (store) {\r\n            setItems(store.map( (col ) => {\r\n                return (        \r\n                    <MenuItem key={col.id} value={col.id}>{col.name}</MenuItem>\r\n                )\r\n            }));            \r\n        }       \r\n    }, [store])\r\n         \r\n    \r\n    const open = Boolean(anchorEl);\r\n    const idn = open ? 'pertableele' : undefined;    \r\n\r\n    return (\r\n        <Container className={styles.container}>\r\n            <Tooltip title={t('table.filter')}>\r\n                    <IconButton aria-label={t('table.filter')} onClick={onClick} aria-describedby={idn}>\r\n                        <ListIcon />\r\n                    </IconButton>\r\n            </Tooltip>\r\n            <Popover anchorOrigin={{\r\n                vertical: 'bottom',\r\n                horizontal: 'center',\r\n            }}\r\n            transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'center',\r\n            }}\r\n            open={open} anchorEl={anchorEl} onClose={onCloseClick}  id={idn}>\r\n                <Paper >                                                             \r\n                    <FormControl className={classes.formControl}>\r\n                        <InputLabel id={`label${labelname}`}>{labelname}</InputLabel>\r\n                        <Select    \r\n                        labelId={`label${labelname}`}\r\n                        id={`select${labelname}`}                           \r\n                        value={filter}\r\n                        onChange={onSelectChange}\r\n                        >         \r\n                            <MenuItem value=\"0\">{t(\"all\")}</MenuItem>                           \r\n                            { items } \r\n                        </Select>\r\n                    </FormControl>                   \r\n                </Paper> \r\n            </Popover>\r\n        </Container>\r\n    )\r\n}","import React, { useContext, useMemo } from'react';\r\n\r\nimport SelectColumnFilter from './SelectColumnFilter';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\nimport { LocationStore } from '../../../context/store/LocationStore';\r\nimport { FilterContext } from '../../../context/utils/FilterContext';\r\n\r\nexport default function SelectColumnFilterLocation () {\r\n\r\n    const { t } = useTranslation();\r\n    const locations  = useContext(LocationStore);\r\n    const { filterLocation, setFilterLocation } = useContext(FilterContext);\r\n\r\n    const memoLocations = useMemo( () => {\r\n        return locations\r\n    }, [locations])\r\n\r\n    return (\r\n        <SelectColumnFilter setFilter={setFilterLocation} filter={filterLocation} labelname={t('table.column.location')}  store={memoLocations}/>\r\n    )\r\n\r\n}","import { useRef, useEffect} from 'react';\r\n\r\n\r\nexport default function useHasChanged ( val ) {\r\n    const prevVal = usePrevious(val)\r\n    return prevVal !== val\r\n}\r\n\r\nconst usePrevious = (value) => {\r\n    const ref = useRef();\r\n    useEffect(() => {\r\n      ref.current = value;\r\n    });\r\n    return ref.current;\r\n}","import React from 'react';\r\nimport ReagentTable from \"../../components/table/ReagentTable\";\r\n\r\nexport default function AllReagents () {\r\n    return (<>\r\n         <ReagentTable />\r\n    </>)\r\n}","import axios from 'axios';\r\nimport BackendServiceConf from '../BackendServiceConf';\r\n\r\nclass SearchService { \r\n\r\n    constructor () {\r\n        BackendServiceConf.config(axios);        \r\n    }\r\n\r\n    async searchReagentPage ( page, size, search, fields) {\r\n        const URL = \"/search/reagent\";                      \r\n        return await axios.post(\"/api\" + URL , {\r\n            page: page,\r\n            size: size,\r\n            search: search,\r\n            fields: fields\r\n        })              \r\n    }\r\n    async searchReagentByElements ( page, size, search) {\r\n        const URL = \"/search/elements/reagent\";                      \r\n        return await axios.post(\"/api\" + URL , {\r\n            page: page,\r\n            size: size,\r\n            search: search            \r\n        }) \r\n    }\r\n}\r\n\r\nexport default new SearchService();","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._32x9AJaXFN3LCG5lPJH9Ys {\\r\\n    margin: 0;\\r\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/main/js/css/components/table/filter/SelectColumn.module.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,SAAS;AACb\",\"sourcesContent\":[\".container {\\r\\n    margin: 0;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"container\": \"_32x9AJaXFN3LCG5lPJH9Ys\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js!./SelectColumn.module.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};"],"sourceRoot":""}