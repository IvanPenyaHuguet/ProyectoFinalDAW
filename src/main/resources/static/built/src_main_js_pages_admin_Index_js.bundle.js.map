{"version":3,"sources":["webpack://daw/./src/main/js/components/admin/AddUser.js","webpack://daw/./src/main/js/components/admin/AdminUser.js","webpack://daw/./src/main/js/components/admin/Funciones.js","webpack://daw/./src/main/js/components/admin/MainWindow.js","webpack://daw/./src/main/js/components/admin/TabBar.js","webpack://daw/./src/main/js/components/admin/TabPanel.js","webpack://daw/./src/main/js/components/admin/UserTable.js","webpack://daw/./src/main/js/components/admin/funciones/ListFunciones.js","webpack://daw/./src/main/js/components/admin/funciones/SelectFunciones.js","webpack://daw/./src/main/js/components/admin/funciones/SelectUser.js","webpack://daw/./src/main/js/lib/entities/User.js","webpack://daw/./src/main/js/pages/admin/Index.js","webpack://daw/./src/main/js/service/backend/Services/RoleService.js","webpack://daw/./src/main/js/service/backend/Services/UserService.js"],"names":["useStyles","makeStyles","theme","formadd","display","flexWrap","justifyContent","alignItems","padding","buttonContainer","margin","alignSelf","AddUser","reload","setReload","user","User","useState","alert","setAlert","getInitialValue","useTranslation","t","classes","type","message","getValues","getValidationSchema","values","setSubmitting","resetForm","save","then","submitForm","isSubmitting","AdminUser","Funciones","undefined","setUser","allRoles","setAllRoles","useEffect","RoleService","res","data","MainWindow","tab","setTab","handleTabChange","e","newValue","a11yProps","index","id","TabBar","value","handleChange","useContext","AuthContext","role","userRole","setUserRole","TabPanel","props","children","other","tablecontainer","height","root","backgroundColor","color","fontStyle","columns","field","headerName","flex","editable","validateText","text","re","test","String","toLowerCase","getData","setLoading","setData","setTotalElements","fetchIdRef","fetchId","current","getAll","result","totalElements","err","errorService","UserTable","loading","useRef","editRowsModel","setEditRowsModel","handleEditCellChange","useCallback","isValid","newState","name","error","state","surname","pass","username","handleEditCellChangeCommitted","rowToSave","row","console","log","updatedRows","Toolbar","GridToolbar","LoadingOverlay","CustomLoadingOverlay","position","top","width","overflow","breakpoints","down","roles","checked","setChecked","handleToggle","currentIndex","newChecked","push","labelId","description","button","spacing","intersection","a","b","bId","val","not","left","setLeft","right","setRight","submitting","leftChecked","rightChecked","handleAllRight","handleCheckedRight","handleCheckedLeft","handleAllLeft","length","newUser","UserService","renderOption","option","inputValue","matches","match","parts","parse","part","fontWeight","highlight","selected","setSelected","options","setOptions","open","setOpen","autocomplete","setAutocomplete","setInputValue","onDeleteClick","status","ErrorController","onAutoCompleteChange","onInputChange","event","newInputValue","split","active","response","n","objects","checkError","params","InputProps","endAdornment","creationDate","dayjs","Yup","shape","min","max","required","service","i18next","Index","BaseService"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAGO,IAAMA,SAAS,GAAGC,iEAAU,CAAC,UAACC,KAAD;AAAA,SAAY;AAC5CC,WAAO,EAAE;AACLC,aAAO,EAAE,MADJ;AAELC,cAAQ,EAAE,MAFL;AAGLC,oBAAc,EAAE,YAHX;AAILC,gBAAU,EAAE,QAJP;AAKLC,aAAO,EAAE;AALJ,KADmC;AAQ5CC,mBAAe,EAAE;AACbC,YAAM,EAAE,QADK;AAEbC,eAAS,EAAE;AAFE;AAR2B,GAAZ;AAAA,CAAD,CAA5B;AAgBQ,SAASC,OAAT,OAAyC;AAAA,MAArBC,MAAqB,QAArBA,MAAqB;AAAA,MAAbC,SAAa,QAAbA,SAAa;AAEpD,MAAMC,IAAI,GAAG,IAAIC,uDAAJ,EAAb;;AACA,kBAA4BC,+CAAQ,CAAC,KAAD,CAApC;AAAA;AAAA,MAAQC,KAAR;AAAA,MAAeC,QAAf;;AACAJ,MAAI,CAACK,eAAL;;AACA,wBAAcC,6DAAc,EAA5B;AAAA,MAAQC,CAAR,mBAAQA,CAAR;;AACA,MAAMC,OAAO,GAAGvB,SAAS,EAAzB;AAEA,sBACI,oGACMkB,KAAK,iBAAI,iDAAC,kDAAD;AAAO,QAAI,EAAEA,KAAK,GAAG,IAAH,GAAU,KAA5B;AAAmC,WAAO,EAAEC,QAA5C;AAAsD,QAAI,EAAED,KAAK,CAACM;AAAlE,KAAyEN,KAAK,CAACO,OAA/E,CADf,eAEI,iDAAC,0CAAD;AACI,iBAAa,EAAEV,IAAI,CAACW,SAAL,EADnB;AAEI,oBAAgB,EAAEX,IAAI,CAACY,mBAAL,CAAyBL,CAAzB,CAFtB;AAGI,YAAQ,EAAG,kBAACM,MAAD,SAA0C;AAAA,UAA/BC,aAA+B,SAA/BA,aAA+B;AAAA,UAAhBC,SAAgB,SAAhBA,SAAgB;AACjDf,UAAI,CAACgB,IAAL,CAAUH,MAAV,EAAkBC,aAAlB,EAAiCV,QAAjC,EAA2Ca,IAA3C,CAAgD,YAAM;AAClDlB,iBAAS,CAACD,MAAM,GAAG,CAAV,CAAT;AACAiB,iBAAS,CAACf,IAAI,CAACW,SAAL,EAAD,CAAT;AACH,OAHD;AAIH;AARL,KAUM;AAAA,QAAGO,UAAH,SAAGA,UAAH;AAAA,QAAeC,YAAf,SAAeA,YAAf;AAAA,wBACE,iDAAC,+CAAD,qBACI,iDAAC,4DAAD;AAAO,eAAS,EAAEX,OAAO,CAACpB,OAA1B;AAAmC,eAAS,EAAE;AAA9C,oBACI,iDAAC,2DAAD;AACI,WAAK,EAAEmB,CAAC,CAAC,oBAAD,CADZ;AAEI,UAAI,EAAC;AAFT,MADJ,eAKI,iDAAC,2DAAD;AACI,WAAK,EAAEA,CAAC,CAAC,uBAAD,CADZ;AAEI,UAAI,EAAC;AAFT,MALJ,eASI,iDAAC,2DAAD;AACI,WAAK,EAAEA,CAAC,CAAC,wBAAD,CADZ;AAEI,UAAI,EAAC;AAFT,MATJ,eAaI,iDAAC,2DAAD;AACI,WAAK,EAAEA,CAAC,CAAC,wBAAD,CADZ;AAEI,UAAI,EAAC,MAFT;AAGI,UAAI,EAAC;AAHT,MAbJ,eAkBI,iDAAC,8DAAD;AACI,aAAO,EAAC,WADZ;AAEI,WAAK,EAAC,SAFV;AAGI,cAAQ,EAAEY,YAHd;AAII,aAAO,EAAED,UAJb;AAKI,aAAO,eAAE,iDAAC,6DAAD,OALb;AAMI,eAAS,EAAEV,OAAO,CAACd;AANvB,OAQKa,CAAC,CAAC,aAAD,CARN,CAlBJ,CADJ,CADF;AAAA,GAVN,CAFJ,CADJ;AAkDH,C;;;;;;;;;;;;;;;;;;;;AC1FD;AAEA;AACA;AAGe,SAASa,SAAT,GAAsB;AAEjC,kBAA8BlB,+CAAQ,CAAC,CAAD,CAAtC;AAAA;AAAA,MAAQJ,MAAR;AAAA,MAAgBC,SAAhB;;AAEA,sBACI,iHACI,iDAAC,6CAAD;AAAS,UAAM,EAAED,MAAjB;AAAyB,aAAS,EAAEC;AAApC,IADJ,eAEI,iDAAC,+CAAD;AAAW,UAAM,EAAED;AAAnB,IAFJ,CADJ;AAMH,C;;;;;;;;;;;;;;;;;;;;;AChBD;AAEA;AACA;AAEA;AAGe,SAASuB,SAAT,GAAsB;AAEjC,kBAA0BnB,+CAAQ,CAACoB,SAAD,CAAlC;AAAA;AAAA,MAAQtB,IAAR;AAAA,MAAcuB,OAAd;;AACA,mBAAkCrB,+CAAQ,CAAC,EAAD,CAA1C;AAAA;AAAA,MAAQsB,QAAR;AAAA,MAAkBC,WAAlB;;AAEAC,kDAAS,CAAC,YAAM;AACZC,qFAAA,GACCV,IADD,CACM,UAAAW,GAAG,EAAI;AACTH,iBAAW,CAACG,GAAG,CAACC,IAAL,CAAX;AACH,KAHD;AAIH,GALQ,EAKP,EALO,CAAT;AAOA,sBACI,iHACI,iDAAC,0DAAD;AAAY,QAAI,EAAG7B,IAAnB;AAA0B,WAAO,EAAGuB;AAApC,IADJ,EAEKvB,IAAI,iBAAI,iDAAC,+DAAD;AAAiB,QAAI,EAAIA,IAAzB;AAAgC,WAAO,EAAGuB,OAA1C;AAAoD,YAAQ,EAAGC;AAA/D,IAFb,CADJ;AAMH,C;;;;;;;;;;;;;;;;;;;;;;;AC1BD;AAEA;AACA;AACA;AACA;AACA;AAEe,SAASM,UAAT,GAAsB;AAEjC,kBAAwB5B,+CAAQ,CAAC,CAAD,CAAhC;AAAA;AAAA,MAAQ6B,GAAR;AAAA,MAAaC,MAAb;;AAEA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,CAAD,EAAIC,QAAJ,EAAiB;AACrCH,UAAM,CAACG,QAAD,CAAN;AACH,GAFD;;AAIF,sBACE,iHACE,iDAAC,4CAAD;AAAQ,SAAK,EAAEJ,GAAf;AAAoB,gBAAY,EAAEE;AAAlC,IADF,eAEE,iDAAC,8CAAD;AAAU,SAAK,EAAEF,GAAjB;AAAsB,SAAK,EAAE;AAA7B,kBACI,iDAAC,+CAAD,OADJ,CAFF,eAKE,iDAAC,8CAAD;AAAU,SAAK,EAAEA,GAAjB;AAAsB,SAAK,EAAE;AAA7B,kBACE,iDAAC,+CAAD,OADF,CALF,CADF;AAWD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BD;AAEA;AACA;AACA;AAEA;;AAGA,SAASK,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,SAAO;AACLC,MAAE,uBAAgBD,KAAhB,CADG;AAEL,+CAAoCA,KAApC;AAFK,GAAP;AAID;;AAGc,SAASE,MAAT,OAAuC;AAAA,MAAtBC,KAAsB,QAAtBA,KAAsB;AAAA,MAAfC,YAAe,QAAfA,YAAe;;AAEpD,oBAAiBC,iDAAU,CAACC,qEAAD,CAA3B;AAAA,MAAQ3C,IAAR,eAAQA,IAAR;;AACA,kBAAiCE,+CAAQ,CAACF,IAAI,CAAC4C,IAAN,CAAzC;AAAA;AAAA,MAAQC,QAAR;AAAA,MAAkBC,WAAlB;;AAEApB,kDAAS,CAAE,YAAM;AACf,QAAI1B,IAAI,IAAI,IAAZ,EAAkB;AACd8C,iBAAW,CAAC9C,IAAI,CAAC4C,IAAN,CAAX;AACH,KAFD,MAGK;AACDE,iBAAW,CAAC,IAAD,CAAX;AACH;AACJ,GAPU,EAOR,CAAC9C,IAAD,CAPQ,CAAT;AASA,sBACE,iDAAC,6DAAD;AAAQ,YAAQ,EAAC,QAAjB;AAA0B,SAAK,EAAC;AAAhC,kBACE,iDAAC,2DAAD;AACE,SAAK,EAAEwC,KADT;AAEE,YAAQ,EAAEC,YAFZ;AAGE,WAAO,EAAC,YAHV;AAIE,iBAAa,EAAC;AAJhB,kBAME,iDAAC,0DAAD;AAAK,SAAK,EAAC;AAAX,KAA0BL,SAAS,CAAC,CAAD,CAAnC;AAAwC,YAAQ,EAAE,CAAC,+FAAAS,QAAQ,MAAR,CAAAA,QAAQ,EAAU,mBAAV;AAA3D,KANF,eAOE,iDAAC,0DAAD;AAAK,SAAK,EAAC;AAAX,KAA2BT,SAAS,CAAC,CAAD,CAApC;AAAyC,YAAQ,EAAE,CAAC,+FAAAS,QAAQ,MAAR,CAAAA,QAAQ,EAAU,gBAAV;AAA5D,KAPF,CADF,CADF;AAaD,C;;;;;;;;;;;;;;;;;;;;;;AC5CD;AAEA;AAEe,SAASE,QAAT,CAAkBC,KAAlB,EAAyB;AACpC,MAAQC,QAAR,GAA6CD,KAA7C,CAAQC,QAAR;AAAA,MAAkBT,KAAlB,GAA6CQ,KAA7C,CAAkBR,KAAlB;AAAA,MAAyBH,KAAzB,GAA6CW,KAA7C,CAAyBX,KAAzB;AAAA,MAAmCa,KAAnC,mGAA6CF,KAA7C;;AAEA,sBACI;AACA,QAAI,EAAC,UADL;AAEA,UAAM,EAAER,KAAK,KAAKH,KAFlB;AAGA,MAAE,4BAAqBA,KAArB,CAHF;AAIA,4CAA+BA,KAA/B;AAJA,KAKIa,KALJ,GAOCV,KAAK,KAAKH,KAAV,iBAAmB,iDAAC,0DAAD;AAAK,KAAC,EAAE;AAAR,KAAYY,QAAZ,CAPpB,CADJ;AAWH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBD;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEO,IAAMhE,SAAS,GAAGC,kEAAU,CAAC,UAACC,KAAD;AAAA,SAAY;AAC5CgE,kBAAc,EAAE;AACZxD,YAAM,EAAE,QADI;AAEZN,aAAO,EAAE,MAFG;AAGZ+D,YAAM,EAAE;AAHI,KAD4B;AAM5CC,QAAI,EAAE;AACF,oCAA8B;AAC5BC,uBAAe,EAAE,wBADW;AAE5BC,aAAK,EAAE;AAFqB,OAD5B;AAKF,sBAAgB;AACdD,uBAAe,uBADD;AAEdC,aAAK,EAAE,SAFO;AAGdC,iBAAS,EAAE;AAHG;AALd;AANsC,GAAZ;AAAA,CAAD,CAA5B;;AAmBP,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAClD,CAAD,EAAO;AAAE,SAAQ,CAC7B;AACImD,SAAK,EAAE,MADX;AAEIC,cAAU,EAAEpD,CAAC,CAAC,iBAAD,CAFjB;AAGIE,QAAI,EAAE,QAHV;AAIImD,QAAI,EAAE,CAJV;AAKIC,YAAQ,EAAE;AALd,GAD6B,EAQ7B;AACIH,SAAK,EAAE,SADX;AAEIC,cAAU,EAAEpD,CAAC,CAAC,oBAAD,CAFjB;AAGIE,QAAI,EAAE,QAHV;AAIImD,QAAI,EAAE,CAJV;AAKIC,YAAQ,EAAE;AALd,GAR6B,EAe7B;AACIH,SAAK,EAAE,UADX;AAEIC,cAAU,EAAEpD,CAAC,CAAC,qBAAD,CAFjB;AAGIE,QAAI,EAAE,QAHV;AAIImD,QAAI,EAAE,CAJV;AAKIC,YAAQ,EAAE;AALd,GAf6B,EAsB7B;AACIH,SAAK,EAAE,MADX;AAEIC,cAAU,EAAEpD,CAAC,CAAC,iBAAD,CAFjB;AAGIE,QAAI,EAAE,QAHV;AAIImD,QAAI,EAAE,CAJV;AAKIC,YAAQ,EAAE;AALd,GAtB6B,EA6B7B;AACIH,SAAK,EAAE,cADX;AAEIC,cAAU,EAAEpD,CAAC,CAAC,yBAAD,CAFjB;AAGIE,QAAI,EAAE,UAHV;AAIImD,QAAI,EAAE,GAJV;AAKIC,YAAQ,EAAE;AALd,GA7B6B,CAAR;AAoCvB,CApCF;;AAsCA,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;AACxB,MAAMC,EAAE,GACN,kBADF;AAEA,SAAOA,EAAE,CAACC,IAAH,CAAQC,MAAM,CAACH,IAAD,CAAN,CAAaI,WAAb,EAAR,CAAP;AACH;;AAED,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,UAAD,EAAaC,OAAb,EAAsBC,gBAAtB,EAAwCC,UAAxC,EAAuD;AACnE,MAAMxE,IAAI,GAAG,IAAIC,wDAAJ,EAAb;AACA,MAAMwE,OAAO,GAAG,EAAED,UAAU,CAACE,OAA7B;;AAEA,MAAID,OAAO,KAAKD,UAAU,CAACE,OAA3B,EAAoC;AAChCL,cAAU,CAAC,IAAD,CAAV;AACArE,QAAI,CAAC2E,MAAL,GACK1D,IADL,CACU,UAAA2D,MAAM,EAAI;AACZP,gBAAU,CAAC,KAAD,CAAV;AACAC,aAAO,CAACM,MAAM,CAAC/C,IAAP,CAAYA,IAAb,CAAP;AACA0C,sBAAgB,CAACK,MAAM,CAAC/C,IAAP,CAAYgD,aAAb,CAAhB;AACH,KALL,WAMW,UAAAC,GAAG,EAAI;AACVC,qFAAA,CAAwBD,GAAxB;AACH,KARL;AASH;AACJ,CAhBD;;AAkBe,SAASE,SAAT,OAA8B;AAAA,MAATlF,MAAS,QAATA,MAAS;;AAEzC,wBAAcQ,8DAAc,EAA5B;AAAA,MAAQC,CAAR,mBAAQA,CAAR;;AACA,MAAMC,OAAO,GAAGvB,SAAS,EAAzB;;AACA,kBAA0BiB,gDAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAQ2B,IAAR;AAAA,MAAcyC,OAAd;;AACA,mBAAgCpE,gDAAQ,CAAC,KAAD,CAAxC;AAAA;AAAA,MAAQ+E,OAAR;AAAA,MAAiBZ,UAAjB;;AACA,mBAA4CnE,gDAAQ,CAAC,CAAD,CAApD;AAAA;AAAA,MAAQ2E,aAAR;AAAA,MAAuBN,gBAAvB;;AACA,MAAMC,UAAU,GAAGU,8CAAM,CAAC,CAAD,CAAzB;;AACA,mBAA0ChF,gDAAQ,CAAC,EAAD,CAAlD;AAAA;AAAA,MAAOiF,aAAP;AAAA,MAAsBC,gBAAtB;;AAEA1D,mDAAS,CAAC,YAAM;AACZ0C,WAAO,CAACC,UAAD,EAAaC,OAAb,EAAsBC,gBAAtB,EAAwCC,UAAxC,CAAP;AACH,GAFQ,EAEP,CAAC1E,MAAD,CAFO,CAAT;AAIA,MAAMuF,oBAAoB,GAAGC,mDAAW,CACpC,iBAA0B;AAAA,QAAvBhD,EAAuB,SAAvBA,EAAuB;AAAA,QAAnBoB,KAAmB,SAAnBA,KAAmB;AAAA,QAAZV,KAAY,SAAZA,KAAY;AACtB,QAAMnC,MAAM,GAAGmC,KAAf;;AACA,QAAIU,KAAK,KAAK,MAAd,EAAsB;AAClB,UAAM6B,OAAO,GAAGzB,YAAY,CAACjD,MAAM,CAAC2B,KAAR,CAA5B;AACA,UAAMgD,QAAQ,GAAG,EAAjB;AACAA,cAAQ,CAAClD,EAAD,CAAR,mCACG6C,aAAa,CAAC7C,EAAD,CADhB;AAEAmD,YAAI,kCAAOzC,KAAP;AAAc0C,eAAK,EAAE,CAACH;AAAtB;AAFJ;AAIAH,sBAAgB,CAAC,UAACO,KAAD;AAAA,+CAAiBA,KAAjB,GAA2BH,QAA3B;AAAA,OAAD,CAAhB;AACH,KARD,MASK,IAAI9B,KAAK,KAAK,SAAd,EAAyB;AAC1B,UAAM6B,QAAO,GAAGzB,YAAY,CAACjD,MAAM,CAAC2B,KAAR,CAA5B;;AACA,UAAMgD,SAAQ,GAAG,EAAjB;AACAA,eAAQ,CAAClD,EAAD,CAAR,mCACG6C,aAAa,CAAC7C,EAAD,CADhB;AAEAsD,eAAO,kCAAO5C,KAAP;AAAc0C,eAAK,EAAE,CAACH;AAAtB;AAFP;AAIAH,sBAAgB,CAAC,UAACO,KAAD;AAAA,+CAAiBA,KAAjB,GAA2BH,SAA3B;AAAA,OAAD,CAAhB;AACH,KARI,MASA,IAAI9B,KAAK,KAAK,MAAd,EAAsB;AACvB,UAAM6B,SAAO,GAAGzB,YAAY,CAACjD,MAAM,CAAC2B,KAAR,CAA5B;;AACA,UAAMgD,UAAQ,GAAG,EAAjB;AACAA,gBAAQ,CAAClD,EAAD,CAAR,mCACG6C,aAAa,CAAC7C,EAAD,CADhB;AAEAuD,YAAI,kCAAO7C,KAAP;AAAc0C,eAAK,EAAE,CAACH;AAAtB;AAFJ;AAIAH,sBAAgB,CAAC,UAACO,KAAD;AAAA,+CAAiBA,KAAjB,GAA2BH,UAA3B;AAAA,OAAD,CAAhB;AACH,KARI,MASA,IAAI9B,KAAK,KAAK,UAAd,EAA0B;AAC3B,UAAM6B,SAAO,GAAGzB,YAAY,CAACjD,MAAM,CAAC2B,KAAR,CAA5B;;AACA,UAAMgD,UAAQ,GAAG,EAAjB;AACAA,gBAAQ,CAAClD,EAAD,CAAR,mCACG6C,aAAa,CAAC7C,EAAD,CADhB;AAEAwD,gBAAQ,kCAAO9C,KAAP;AAAc0C,eAAK,EAAE,CAACH;AAAtB;AAFR;AAIAH,sBAAgB,CAAC,UAACO,KAAD;AAAA,+CAAiBA,KAAjB,GAA2BH,UAA3B;AAAA,OAAD,CAAhB;AACH;AAEJ,GAxCmC,EAyCpC,CAACL,aAAD,CAzCoC,CAAxC;AA4CA,MAAMY,6BAA6B,GAAGT,mDAAW,CAC7C,iBAA0B;AAAA,QAAvBhD,EAAuB,SAAvBA,EAAuB;AAAA,QAAnBoB,KAAmB,SAAnBA,KAAmB;AAAA,QAAZV,KAAY,SAAZA,KAAY;AACtB,QAAMhD,IAAI,GAAG,IAAIC,wDAAJ,EAAb;AACA,QAAMY,MAAM,GAAGmC,KAAf;;AACA,QAAMgD,SAAS,GAAG,6FAAAnE,IAAI,MAAJ,CAAAA,IAAI,EAAQ,UAAAoE,GAAG,EAAI;AACjC,UAAIA,GAAG,CAAC3D,EAAJ,KAAWA,EAAf,EAAmB;AACf2D,WAAG,CAACvC,KAAD,CAAH,GAAa7C,MAAM,CAAC2B,KAApB;AACA,iCAAYyD,GAAZ;AACH;AACJ,KALqB,CAAtB;;AAMAjG,QAAI,CAACgB,IAAL,CAAUgF,SAAS,CAAC,CAAD,CAAnB,EAAwB3B,UAAxB,EACKpD,IADL,CACU,UAAAW,GAAG,EAAI;AACTsE,aAAO,CAACC,GAAR,CAAYvE,GAAZ;;AACA,UAAMwE,WAAW,GAAG,2FAAAvE,IAAI,MAAJ,CAAAA,IAAI,EAAK,UAACoE,GAAD,EAAS;AAClC,YAAIA,GAAG,CAAC3D,EAAJ,KAAWA,EAAf,EAAmB;AACf,iBAAOV,GAAG,CAACC,IAAX;AACH;;AACD,eAAOoE,GAAP;AACH,OALuB,CAAxB;;AAMA3B,aAAO,CAAC8B,WAAD,CAAP;AACH,KAVL,WAWW,UAAAtB,GAAG,EAAI;AACVC,qFAAA,CAAwBD,GAAxB;AACH,KAbL;AAcH,GAxB4C,EAyB7C,CAACjD,IAAD,CAzB6C,CAAjD;AA+BA,sBACI,kDAAC,6DAAD;AAAO,aAAS,EAAE,CAAlB;AAAqB,aAAS,EAAErB,OAAO,CAAC2C;AAAxC,kBACI,kDAAC,6DAAD;AACI,aAAS,EAAE3C,OAAO,CAAC6C,IADvB;AAEI,cAAU,EAAE;AACRgD,aAAO,EAAEC,gEADD;AAERC,oBAAc,EAAEC;AAFR,KAFhB;AAMI,WAAO,EAAE/C,OAAO,CAAClD,CAAD,CANpB;AAOI,QAAI,EAAEsB,IAPV;AAQI,WAAO,EAAEoD,OARb;AASI,cAAU,MATd;AAUI,cAAU,MAVd;AAWI,iBAAa,EAAEE,aAXnB;AAYI,oBAAgB,EAAEE,oBAZtB;AAaI,6BAAyB,EAAEU;AAb/B,IADJ,CADJ;AAmBH;;AAED,SAASS,oBAAT,GAAgC;AAC5B,sBACE,kDAAC,gEAAD,qBACE;AAAK,SAAK,EAAE;AAAEC,cAAQ,EAAE,UAAZ;AAAwBC,SAAG,EAAE,CAA7B;AAAgCC,WAAK,EAAE;AAAvC;AAAZ,kBACE,kDAAC,sEAAD,OADF,CADF,CADF;AAOD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnNH;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA,IAAM1H,SAAS,GAAGC,iEAAU,CAAC,UAACC,KAAD;AAAA,SAAY;AACrCgE,kBAAc,EAAE;AACZwD,WAAK,EAAE,GADG;AAEVvD,YAAM,EAAE,GAFE;AAGVwD,cAAQ,EAAE;AAHA,OAITzH,KAAK,CAAC0H,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAJS,EAIsB;AAC5BH,WAAK,EAAE,OADqB;AAE5BvD,YAAM,EAAE;AAFoB,KAJtB;AADuB,GAAZ;AAAA,CAAD,CAA5B;AAYe,SAAS/B,SAAT,OAAoD;AAAA,MAA9B0F,KAA8B,QAA9BA,KAA8B;AAAA,MAAvBC,OAAuB,QAAvBA,OAAuB;AAAA,MAAdC,UAAc,QAAdA,UAAc;AAE/D,MAAMzG,OAAO,GAAGvB,SAAS,EAAzB;;AAEA,MAAMiI,YAAY,GAAG,SAAfA,YAAe,CAAC1E,KAAD;AAAA,WAAW,YAAM;AAClC,UAAM2E,YAAY,GAAG,+FAAAH,OAAO,MAAP,CAAAA,OAAO,EAASxE,KAAT,CAA5B;;AACA,UAAM4E,UAAU,GAAG,0FAAIJ,OAAP,CAAhB;;AAEA,UAAIG,YAAY,KAAK,CAAC,CAAtB,EAAyB;AACrBC,kBAAU,CAACC,IAAX,CAAgB7E,KAAhB;AACH,OAFD,MAEO;AACH,qGAAA4E,UAAU,MAAV,CAAAA,UAAU,EAAQD,YAAR,EAAsB,CAAtB,CAAV;AACH;;AACDF,gBAAU,CAACG,UAAD,CAAV;AACH,KAVoB;AAAA,GAArB;;AAYA,sBACI,iDAAC,4DAAD;AAAO,aAAS,EAAE5G,OAAO,CAAC2C;AAA1B,kBACI,iDAAC,2DAAD;AAAM,SAAK,MAAX;AAAY,aAAS,EAAC,KAAtB;AAA4B,QAAI,EAAC;AAAjC,KACK,0FAAA4D,KAAK,MAAL,CAAAA,KAAK,EAAK,UAACvE,KAAD,EAAW;AAClB,QAAM8E,OAAO,gCAAyB9E,KAAzB,WAAb;AAEA,wBACI,iDAAC,+DAAD;AAAU,SAAG,EAAEA,KAAK,CAACF,EAArB;AAAyB,UAAI,EAAC,UAA9B;AAAyC,YAAM,MAA/C;AAAgD,aAAO,EAAE4E,YAAY,CAAC1E,KAAD;AAArE,oBACI,iDAAC,oEAAD,qBACI,iDAAC,gEAAD;AACI,aAAO,EAAE,+FAAAwE,OAAO,MAAP,CAAAA,OAAO,EAASxE,KAAT,CAAP,KAA2B,CAAC,CADzC;AAEI,cAAQ,EAAE,CAAC,CAFf;AAGI,mBAAa,MAHjB;AAII,gBAAU,EAAE;AAAE,2BAAmB8E;AAArB;AAJhB,MADJ,CADJ,eASI,iDAAC,oEAAD;AAAc,QAAE,EAAEA,OAAlB;AAA2B,aAAO,EAAE9E,KAAK,CAAC+E;AAA1C,MATJ,CADJ;AAaH,GAhBK,CADV,CADJ,CADJ;AAuBH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/DD;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAGA,IAAMtI,SAAS,GAAGC,kEAAU,CAAC,UAACC,KAAD;AAAA,SAAY;AACrCkE,QAAI,EAAE;AACF1D,YAAM,EAAE;AADN,KAD+B;AAIrCwD,kBAAc,EAAE;AACZxD,YAAM,EAAE,QADI;AAEZN,aAAO,EAAE,MAFG;AAGZ+D,YAAM,EAAE;AAHI,KAJqB;AASrCoE,UAAM,EAAE;AACJ7H,YAAM,EAAER,KAAK,CAACsI,OAAN,CAAc,GAAd,EAAmB,CAAnB;AADJ;AAT6B,GAAZ;AAAA,CAAD,CAA5B;;AAcA,SAASC,YAAT,CAAsBC,CAAtB,EAAyBC,CAAzB,EAA4B;AACxB,MAAMC,GAAG,GAAG,2FAAAD,CAAC,MAAD,CAAAA,CAAC,EAAK,UAAAE,GAAG;AAAA,WAAIA,GAAG,CAACxF,EAAR;AAAA,GAAR,CAAb;;AACA,SAAO,6FAAAqF,CAAC,MAAD,CAAAA,CAAC,EAAQ,UAACnF,KAAD;AAAA,WAAW,gGAAAqF,GAAG,MAAH,CAAAA,GAAG,EAASrF,KAAK,CAACF,EAAf,CAAH,KAA0B,CAAC,CAAtC;AAAA,GAAR,CAAR;AACH;;AAED,SAASyF,GAAT,CAAaJ,CAAb,EAAgBC,CAAhB,EAAmB;AACf,MAAMC,GAAG,GAAG,2FAAAD,CAAC,MAAD,CAAAA,CAAC,EAAK,UAAAE,GAAG;AAAA,WAAIA,GAAG,CAACxF,EAAR;AAAA,GAAR,CAAb;;AACA,SAAO,6FAAAqF,CAAC,MAAD,CAAAA,CAAC,EAAQ,UAACnF,KAAD;AAAA,WAAW,gGAAAqF,GAAG,MAAH,CAAAA,GAAG,EAASrF,KAAK,CAACF,EAAf,CAAH,KAA0B,CAAC,CAAtC;AAAA,GAAR,CAAR;AACH;;AAIc,SAASjB,SAAT,OAAkD;AAAA,MAA5BrB,IAA4B,QAA5BA,IAA4B;AAAA,MAArBuB,OAAqB,QAArBA,OAAqB;AAAA,MAAZC,QAAY,QAAZA,QAAY;AAE7D,MAAMhB,OAAO,GAAGvB,SAAS,EAAzB;;AACA,kBAAwBiB,gDAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAO8H,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAA0B/H,gDAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOgI,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAA8BjI,gDAAQ,CAAC,EAAD,CAAtC;AAAA;AAAA,MAAO8G,OAAP;AAAA,MAAgBC,UAAhB;;AACA,mBAAsC/G,gDAAQ,CAAC,KAAD,CAA9C;AAAA;AAAA,MAAQkI,UAAR;AAAA,MAAoBtH,aAApB;;AACA,wBAAcR,8DAAc,EAA5B;AAAA,MAAQC,CAAR,mBAAQA,CAAR;;AAEA,MAAM8H,WAAW,GAAGX,YAAY,CAACV,OAAD,EAAUgB,IAAV,CAAhC;AACA,MAAMM,YAAY,GAAGZ,YAAY,CAACV,OAAD,EAAUkB,KAAV,CAAjC;;AAEA,MAAMK,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AACzBJ,YAAQ,CAAC,8FAAAD,KAAK,MAAL,CAAAA,KAAK,EAAQF,IAAR,CAAN,CAAR;AACAC,WAAO,CAAC,EAAD,CAAP;AACH,GAHD;;AAKA,MAAMO,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC7BL,YAAQ,CAAC,8FAAAD,KAAK,MAAL,CAAAA,KAAK,EAAQG,WAAR,CAAN,CAAR;AACAJ,WAAO,CAACF,GAAG,CAACC,IAAD,EAAOK,WAAP,CAAJ,CAAP;AACApB,cAAU,CAACc,GAAG,CAACf,OAAD,EAAUqB,WAAV,CAAJ,CAAV;AACH,GAJD;;AAMA,MAAMI,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC5BR,WAAO,CAAC,8FAAAD,IAAI,MAAJ,CAAAA,IAAI,EAAQM,YAAR,CAAL,CAAP;AACAH,YAAQ,CAACJ,GAAG,CAACG,KAAD,EAAQI,YAAR,CAAJ,CAAR;AACArB,cAAU,CAACc,GAAG,CAACf,OAAD,EAAUsB,YAAV,CAAJ,CAAV;AACH,GAJD;;AAMA,MAAMI,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxBT,WAAO,CAAC,8FAAAD,IAAI,MAAJ,CAAAA,IAAI,EAAQE,KAAR,CAAL,CAAP;AACAC,YAAQ,CAAC,EAAD,CAAR;AACH,GAHD;;AAKAzG,mDAAS,CAAC,YAAM;AACZyG,YAAQ,CAACnI,IAAI,CAAC4C,IAAN,CAAR;AACAqF,WAAO,CAACF,GAAG,CAACvG,QAAD,EAAWxB,IAAI,CAAC4C,IAAhB,CAAJ,CAAP;AACH,GAHQ,EAGN,CAAC5C,IAAD,CAHM,CAAT;AAKA0B,mDAAS,CAAC,YAAM;AACZ,QAAK1B,IAAI,CAAC4C,IAAL,CAAU+F,MAAV,IAAoBT,KAAK,CAACS,MAA1B,IAAoCT,KAAK,CAACS,MAAN,IAAgB,CAAzD,EAA4D;AACxD7H,mBAAa,CAAC,IAAD,CAAb;;AACA,UAAM8H,OAAO,qBAAO5I,IAAP,CAAb;;AACA4I,aAAO,CAAChG,IAAR,GAAesF,KAAf;AACAW,sFAAA,CAAiBD,OAAjB,EACC3H,IADD,CACM,UAAAW,GAAG,EAAI;AACTL,eAAO,CAACK,GAAG,CAACC,IAAL,CAAP;AACAf,qBAAa,CAAC,KAAD,CAAb;AACH,OAJD;AAKH;AACJ,GAXQ,EAWP,CAACoH,KAAD,CAXO,CAAT;AAaA,sBACI,kDAAC,6DAAD;AAAO,aAAS,EAAE1H,OAAO,CAAC2C,cAA1B;AAA0C,aAAS,EAAE;AAArD,kBACI,kDAAC,4DAAD;AAAM,aAAS,MAAf;AAAgB,WAAO,EAAE,CAAzB;AAA4B,WAAO,EAAC,QAApC;AAA6C,cAAU,EAAC,QAAxD;AAAiE,aAAS,EAAE3C,OAAO,CAAC6C;AAApF,kBACI,kDAAC,4DAAD;AAAM,QAAI;AAAV,kBACI,kDAAC,kEAAD;AAAY,WAAO,EAAC,IAApB;AAAyB,gBAAY;AAArC,KACK9C,CAAC,CAAC,+CAAD,CADN,CADJ,eAII,kDAAC,uDAAD;AAAe,SAAK,EAAEyH,IAAtB;AAA4B,WAAO,EAAEhB,OAArC;AAA8C,cAAU,EAAEC;AAA1D,IAJJ,CADJ,eAOI,kDAAC,4DAAD;AAAM,QAAI;AAAV,kBACI,kDAAC,4DAAD;AAAM,aAAS,MAAf;AAAgB,aAAS,EAAC,QAA1B;AAAmC,cAAU,EAAC;AAA9C,kBACI,kDAAC,8DAAD;AACI,WAAO,EAAC,UADZ;AAEI,QAAI,EAAC,OAFT;AAGI,aAAS,EAAEzG,OAAO,CAACgH,MAHvB;AAII,WAAO,EAAEe,cAJb;AAKI,YAAQ,EAAEP,IAAI,CAACW,MAAL,KAAgB,CAL9B;AAMI,kBAAW;AANf,iBAOcP,UAPd,YADJ,eAYI,kDAAC,8DAAD;AACI,WAAO,EAAC,UADZ;AAEI,QAAI,EAAC,OAFT;AAGI,aAAS,EAAE5H,OAAO,CAACgH,MAHvB;AAII,WAAO,EAAEgB,kBAJb;AAKI,YAAQ,EAAEH,WAAW,CAACM,MAAZ,KAAuB,CALrC;AAMI,kBAAW;AANf,iBAOcP,UAPd,OAZJ,eAuBI,kDAAC,8DAAD;AACI,WAAO,EAAC,UADZ;AAEI,QAAI,EAAC,OAFT;AAGI,aAAS,EAAE5H,OAAO,CAACgH,MAHvB;AAII,WAAO,EAAEiB,iBAJb;AAKI,YAAQ,EAAEH,YAAY,CAACK,MAAb,KAAwB,CALtC;AAMI,kBAAW;AANf,iBAOcP,UAPd,OAvBJ,eAkCI,kDAAC,8DAAD;AACI,WAAO,EAAC,UADZ;AAEI,QAAI,EAAC,OAFT;AAGI,aAAS,EAAE5H,OAAO,CAACgH,MAHvB;AAII,WAAO,EAAEkB,aAJb;AAKI,YAAQ,EAAER,KAAK,CAACS,MAAN,KAAiB,CAL/B;AAMI,kBAAW;AANf,iBAOcP,UAPd,YAlCJ,CADJ,CAPJ,eAuDI,kDAAC,4DAAD;AAAM,QAAI;AAAV,kBACI,kDAAC,kEAAD;AAAY,WAAO,EAAC,IAApB;AAAyB,gBAAY;AAArC,KACK7H,CAAC,CAAC,2CAAD,CADN,CADJ,eAII,kDAAC,uDAAD;AAAe,SAAK,EAAE2H,KAAtB;AAA6B,WAAO,EAAElB,OAAtC;AAA+C,cAAU,EAAEC;AAA3D,IAJJ,CAvDJ,CADJ,CADJ;AAkEH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/JD;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAGA,IAAMhI,SAAS,GAAGC,kEAAU,CAAC,UAACC,KAAD;AAAA,SAAY;AACrCC,WAAO,EAAE;AACLC,aAAO,EAAE,MADJ;AAELC,cAAQ,EAAE,MAFL;AAGLC,oBAAc,EAAE,YAHX;AAILC,gBAAU,EAAE,QAJP;AAKLC,aAAO,EAAE;AALJ,KAD4B;AAQrCC,mBAAe,EAAE;AACbC,YAAM,EAAE,QADK;AAEbC,eAAS,EAAE;AAFE;AARoB,GAAZ;AAAA,CAAD,CAA5B;;AAcA,IAAMkJ,YAAY,GAAI,SAAhBA,YAAgB,CAACC,MAAD,QAA4B;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;AAC9C,MAAMC,OAAO,GAAGC,mEAAK,CAACH,MAAD,EAASC,UAAT,CAArB;AACA,MAAMG,KAAK,GAAGC,mEAAK,CAACL,MAAD,EAASE,OAAT,CAAnB;AAEA,sBACE,+DACG,2FAAAE,KAAK,MAAL,CAAAA,KAAK,EAAK,UAACE,IAAD,EAAOhH,KAAP;AAAA,wBACT;AAAM,SAAG,EAAEA,KAAX;AAAkB,WAAK,EAAE;AAAEiH,kBAAU,EAAED,IAAI,CAACE,SAAL,GAAiB,GAAjB,GAAuB;AAArC;AAAzB,OACGF,IAAI,CAACtF,IADR,CADS;AAAA,GAAL,CADR,CADF;AASH,CAbD;;AAiBe,SAAS3C,SAAT,QAAuC;AAAA,MAAjBpB,IAAiB,SAAjBA,IAAiB;AAAA,MAAXuB,OAAW,SAAXA,OAAW;AAElD,MAAMf,OAAO,GAAGvB,SAAS,EAAzB;;AACA,wBAAcqB,8DAAc,EAA5B;AAAA,MAAQC,CAAR,mBAAQA,CAAR;;AAEA,kBAA4BL,gDAAQ,CAAC,KAAD,CAApC;AAAA;AAAA,MAAQC,KAAR;AAAA,MAAeC,QAAf;;AACA,mBAAkCF,gDAAQ,CAAC,KAAD,CAA1C;AAAA;AAAA,MAAQsJ,QAAR;AAAA,MAAkBC,WAAlB;;AACA,mBAAgCvJ,gDAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAQwJ,OAAR;AAAA,MAAiBC,UAAjB;;AACA,mBAA0BzJ,gDAAQ,CAAC,KAAD,CAAlC;AAAA;AAAA,MAAQ0J,IAAR;AAAA,MAAcC,OAAd;;AACA,mBAA0C3J,gDAAQ,CAAC,IAAD,CAAlD;AAAA;AAAA,MAAQ4J,YAAR;AAAA,MAAsBC,eAAtB;;AACA,oBAAsC7J,gDAAQ,CAACF,IAAI,GAAGA,IAAH,GAAU,EAAf,CAA9C;AAAA;AAAA,MAAQgJ,UAAR;AAAA,MAAoBgB,aAApB;;AACA,MAAM/E,OAAO,GAAG2E,IAAI,IAAIF,OAAO,CAACf,MAAR,KAAmB,CAA3C;;AAGA,MAAMsB,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxBR,eAAW,CAAC,KAAD,CAAX;AACAZ,sFAAA,CAAmB7I,IAAnB,EACKiB,IADL,CACW,UAAAW,GAAG,EAAI;AACV,UAAIA,GAAG,CAACsI,MAAJ,IAAc,GAAlB,EAAuB;AACnB9J,gBAAQ,CAAC;AAACK,cAAI,EAAE,SAAP;AAAkBC,iBAAO,EAAEH,CAAC,CAAC,0CAAD;AAA5B,SAAD,CAAR;AACH,OAFD,MAGK;AACDH,gBAAQ,CAAC;AAACK,cAAI,EAAE,OAAP;AAAgBC,iBAAO,EAAEH,CAAC,CAAC,wCAAD;AAA1B,SAAD,CAAR;AACH;;AACDgB,aAAO,CAACD,SAAD,CAAP;AACA0I,mBAAa,CAAC,EAAD,CAAb;AACH,KAVL,WAWY,UAAAlF,GAAG,EAAI;AACXqF,qFAAA,CAA2BrF,GAA3B,EAAgC1E,QAAhC;AACAqJ,iBAAW,CAAC,IAAD,CAAX;AACH,KAdL;AAeH,GAjBD;;AAmBA,MAAMW,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAClI,CAAD,EAAIC,QAAJ,EAAiB;AAC1C4H,mBAAe,CAAC5H,QAAQ,IAAIb,SAAb,CAAf;AACH,GAFD;;AAIA,MAAM+I,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAQC,aAAR,EAA0B;AAC5CP,iBAAa,CAACO,aAAD,CAAb;AACH,GAFD;;AAIA7I,mDAAS,CAAC,YAAM;AACZ+H,eAAW,CAAC,KAAD,CAAX;;AACA,QAAIK,YAAY,IAAI,IAApB,EAA0B;AACtBjB,yFAAA,CAAoB;AAACvG,UAAE,EAAEwH,YAAF,aAAEA,YAAF,uBAAEA,YAAY,CAAEU,KAAd,CAAoB,GAApB,EAAyB,CAAzB;AAAL,OAApB,EACKvJ,IADL,CACW,UAAAW,GAAG,EAAI;AACV,YAAIA,GAAG,CAACsI,MAAJ,IAAc,GAAlB,EAAuB;AACnB9J,kBAAQ,CAAC;AAACK,gBAAI,EAAE,OAAP;AAAgBC,mBAAO,EAAEH,CAAC,CAAC,wCAAD;AAA1B,WAAD,CAAR;AACH,SAFD,MAGK;AACDgB,iBAAO,CAACK,GAAG,CAACC,IAAL,CAAP;AACA4H,qBAAW,CAAC,IAAD,CAAX;AACH;AACJ,OATL,WAUY,UAAA3E,GAAG,EAAI;AACXqF,uFAAA,CAA2BrF,GAA3B,EAAgC1E,QAAhC;AACAqJ,mBAAW,CAAC,IAAD,CAAX;AACH,OAbL;AAcH;AACJ,GAlBQ,EAkBP,CAACK,YAAD,CAlBO,CAAT;AAoBApI,mDAAS,CAAC,YAAM;AACZ,QAAI+I,MAAM,GAAG,IAAb;;AACA,QAAI,CAACxF,OAAL,EAAc;AACZ,aAAO3D,SAAP;AACD;;AACD,QAAI;AACA,8LAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAC0BuH,kFAAA,EAD1B;;AAAA;AACS6B,wBADT;AAAA;AAAA,uBAEyB,sGAAAA,QAAQ,CAAC7I,IAAT,CAAcA,IAAd,iBAAuB,UAAA8I,CAAC;AAAA,yBAC1CA,CAAC,CAACrI,EAAF,GAAO,IAAP,GAAcqI,CAAC,CAAClF,IAAhB,GAAuB,GAAvB,GAA6BkF,CAAC,CAAC/E,OAA/B,GAAyC,OAAzC,GAAkD+E,CAAC,CAAC7E,QADV;AAAA,iBAAxB,CAFzB;;AAAA;AAES8E,uBAFT;;AAKG,oBAAIH,MAAJ,EAAY;AACRd,4BAAU,CAACiB,OAAD,CAAV;AACH;;AAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAD;AASH,KAVD,CAWA,OAAO1I,CAAP,EAAU;AACR6C,kBAAY,CAAC8F,UAAb,CAAwB3I,CAAxB;AACD;;AACD,WAAO,YAAM;AACXuI,YAAM,GAAG,KAAT;AACD,KAFD;AAGH,GAtBQ,EAsBN,CAACxF,OAAD,CAtBM,CAAT;AAwBAvD,mDAAS,CAAC,YAAM;AACZ,QAAI,CAACkI,IAAL,EAAW;AACTD,gBAAU,CAAC,EAAD,CAAV;AACD;AACJ,GAJQ,EAIN,CAACC,IAAD,CAJM,CAAT;AAOA,sBACI,kDAAC,6DAAD;AAAO,aAAS,EAAEpJ,OAAO,CAACpB,OAA1B;AAAmC,aAAS,EAAE;AAA9C,KACMe,KAAK,iBAAI,kDAAC,mDAAD;AAAO,QAAI,EAAEA,KAAK,GAAG,IAAH,GAAU,KAA5B;AAAmC,WAAO,EAAEC,QAA5C;AAAsD,QAAI,EAAED,KAAK,CAACM;AAAlE,KAAyEN,KAAK,CAACO,OAA/E,CADf,eAEI,kDAAC,mEAAD;AACI,MAAE,yBADN;AAEI,WAAO,EAAEgJ,OAFb;AAGI,kBAAc,EAAE,wBAACX,MAAD;AAAA,aAAYA,MAAZ;AAAA,KAHpB;AAII,iBAAa,MAJjB;AAKI,iBAAa,MALjB;AAMI,gBAAY,MANhB;AAOI,eAAW,MAPf;AAQI,gBAAY,MARhB;AASI,SAAK,EAAEe,YATX;AAUI,YAAQ,EAAEM,oBAVd;AAWI,cAAU,EAAEpB,UAXhB;AAYI,SAAK,EAAE;AAAErC,WAAK,EAAE;AAAT,KAZX;AAaI,iBAAa,EAAE0D,aAbnB;AAcI,eAAW,EAAE,qBAACS,MAAD;AAAA,0BACX,kDAAC,iEAAD,sFAAeA,MAAf;AACA,aAAK,EAAEvK,CAAC,CAAC,iCAAD,CADR;AAEA,kBAAU,kCACLuK,MAAM,CAACC,UADF;AAERC,sBAAY,eACV,sGACG/F,OAAO,gBAAG,kDAAC,wEAAD;AAAkB,iBAAK,EAAC,SAAxB;AAAkC,gBAAI,EAAE;AAAxC,YAAH,GAAoD,IAD9D,EAEG6F,MAAM,CAACC,UAAP,CAAkBC,YAFrB;AAHM;AAFV,SADW;AAAA,KAdjB;AA2BI,qBAAiB,EAAE,2BAACjC,MAAD,EAASvG,KAAT;AAAA,aAAmBuG,MAAM,KAAKvG,KAA9B;AAAA,KA3BvB;AA4BI,gBAAY,EAAEsG,YA5BlB;AA6BI,QAAI,EAAEc,IA7BV;AA8BI,UAAM,EAAE;AAAA,aAAMC,OAAO,CAAC,IAAD,CAAb;AAAA,KA9BZ;AA+BI,WAAO,EAAE;AAAA,aAAMA,OAAO,CAAC,KAAD,CAAb;AAAA,KA/Bb;AAgCI,WAAO,EAAE5E;AAhCb,IAFJ,eAoCI,kDAAC,8DAAD;AACI,WAAO,EAAC,WADZ;AAEI,SAAK,EAAC,SAFV;AAGI,YAAQ,EAAE,CAACuE,QAHf;AAII,WAAO,EAAES,aAJb;AAKI,WAAO,eAAE,kDAAC,+DAAD,OALb;AAMI,aAAS,EAAEzJ,OAAO,CAACd;AANvB,KAQKa,CAAC,CAAC,gBAAD,CARN,CApCJ,CADJ;AAiDH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/LD;AACA;AACA;AACA;AACA;;IAGqBN,I;AAGjB,kBAAe;AAAA;;AACX,SAAKqC,EAAL;AACA,SAAKmD,IAAL;AACA,SAAKG,OAAL;AACA,SAAKmB,KAAL;AACA,SAAKjB,QAAL;AACA,SAAKD,IAAL;AACA,SAAKoF,YAAL;AACH;;;;WAED,2BAAiB;AACb,WAAK3I,EAAL,GAAU,IAAV;AACA,WAAKmD,IAAL,GAAY,EAAZ;AACA,WAAKG,OAAL,GAAe,EAAf;AACA,WAAKmB,KAAL,GAAa,EAAb;AACA,WAAKjB,QAAL,GAAgB,EAAhB;AACA,WAAKD,IAAL,GAAY,EAAZ;AACA,WAAKoF,YAAL,GAAoBC,6CAAK,EAAzB;AACH;;;WAED,6BAAoB3K,CAApB,EAAsB;AAClB,aAAO4K,wCAAA,GAAaC,KAAb,CAAmB;AACtB3F,YAAI,EAAE0F,wCAAA,GACDE,GADC,CACG,CADH,EACK9K,CAAC,CAAC,0BAAD,CADN,EAED+K,GAFC,CAEG,EAFH,EAEM/K,CAAC,CAAC,yBAAD,CAFP,EAGDgL,QAHC,CAGQhL,CAAC,CAAC,0BAAD,CAHT,CADgB;AAKrBqF,eAAO,EAAEuF,wCAAA,GACLE,GADK,CACD,CADC,EACC9K,CAAC,CAAC,0BAAD,CADF,EAEL+K,GAFK,CAED,EAFC,EAEE/K,CAAC,CAAC,yBAAD,CAFH,EAGLgL,QAHK,CAGIhL,CAAC,CAAC,0BAAD,CAHL,CALY;AASrBuF,gBAAQ,EAAEqF,wCAAA,GACNE,GADM,CACF,CADE,EACA9K,CAAC,CAAC,0BAAD,CADD,EAEN+K,GAFM,CAEF,EAFE,EAEC/K,CAAC,CAAC,yBAAD,CAFF,EAGNgL,QAHM,CAGGhL,CAAC,CAAC,0BAAD,CAHJ,CATW;AAarBsF,YAAI,EAAEsF,wCAAA,GACFE,GADE,CACE,CADF,EACI9K,CAAC,CAAC,0BAAD,CADL,EAEF+K,GAFE,CAEE,EAFF,EAEK/K,CAAC,CAAC,yBAAD,CAFN,EAGFgL,QAHE,CAGOhL,CAAC,CAAC,0BAAD,CAHR;AAbe,OAAnB,CAAP;AAkBH;;;WAED,cAAKM,MAAL,EAAaC,aAAb,EAA4BV,QAA5B,EAAsC;AAClC,aAAOoL,gFAAA,CAAa3K,MAAb,EAAqBI,IAArB,CAA0B,UAACW,GAAD,EAAS;AACtC,YAAIA,GAAG,CAACsI,MAAJ,IAAc,GAAd,IAAqBtI,GAAG,CAACsI,MAAJ,IAAc,GAAvC,EAA4C;AACxC9J,kBAAQ,GAAGA,QAAQ,CAAC;AAACK,gBAAI,EAAE,OAAP;AAAgBC,mBAAO,EAAE+K,+CAAA,CAAU,6BAAV;AAAzB,WAAD,CAAX,GAAkF,IAA1F;AACH;;AACD,YAAI7J,GAAG,CAACsI,MAAJ,IAAc,GAAlB,EAAuB;AACnB9J,kBAAQ,GAAGA,QAAQ,CAAC;AAACK,gBAAI,EAAE,OAAP;AAAgBC,mBAAO,EAAE+K,+CAAA,CAAU,gCAAV;AAAzB,WAAD,CAAX,GAAqF,IAA7F;AACH;;AACD,YAAI7J,GAAG,CAACsI,MAAJ,IAAc,GAAlB,EAAuB;AACnB9J,kBAAQ,GAAGA,QAAQ,CAAC;AAACK,gBAAI,EAAE,SAAP;AAAkBC,mBAAO,EAAE+K,+CAAA,CAAU,0BAAV;AAA3B,WAAD,CAAX,GAAiF,IAAzF;AACH;;AACD3K,qBAAa,CAAC,KAAD,CAAb;AACA,eAAOc,GAAP;AACH,OAZM,WAaA,UAAAM,CAAC,EAAI;AACR6C,uFAAA,CAAwB7C,CAAxB,EAA2B9B,QAA3B;AACAU,qBAAa,CAAC,KAAD,CAAb;AACH,OAhBM,CAAP;AAiBH;;;WAED,qBAAW;AACP,aAAO;AACHwB,UAAE,EAAE,KAAKA,EADN;AAEHmD,YAAI,EAAE,KAAKA,IAFR;AAGHG,eAAO,EAAE,KAAKA,OAHX;AAIHmB,aAAK,EAAE,KAAKA,KAJT;AAKHjB,gBAAQ,EAAE,KAAKA,QALZ;AAMHD,YAAI,EAAE,KAAKA,IANR;AAOHoF,oBAAY,EAAE,KAAKA;AAPhB,OAAP;AASH;;;WAED,iBAAQjL,IAAR,EAAeI,QAAf,EAAyB;AACrBoL,wFAAA,mBAAoBxL,IAApB,GACCiB,IADD,CACM,UAAAW,GAAG,EAAI;AACT,YAAIA,GAAG,CAACsI,MAAJ,IAAc,GAAlB,EAAuB;AACnB9J,kBAAQ,GAAGA,QAAQ,CAAC;AAACK,gBAAI,EAAE,OAAP;AAAgBC,mBAAO,EAAE+K,+CAAA,CAAU,gCAAV;AAAzB,WAAD,CAAX,GAAqF,IAA7F;AACH,SAFD,MAGK;AACDrL,kBAAQ,GAAGA,QAAQ,CAAC;AAACK,gBAAI,EAAE,SAAP;AAAkBC,mBAAO,EAAE+K,+CAAA,CAAU,mCAAV;AAA3B,WAAD,CAAX,GAA0F,IAAlG;AACH;AACJ,OARD,WASO,UAAAvJ,CAAC,EAAI;AACR6C,uFAAA,CAAwB7C,CAAxB,EAA2B9B,QAA3B;AACAU,qBAAa,CAAC,KAAD,CAAb;AACH,OAZD;AAaH;;;WAED,kBAAS;AACL,aAAO0K,kFAAA,EAAP;AACH;;;;;;;;;;;;;;;;;;;;;;;ACtGL;AACA;AAEe,SAASE,KAAT,GAAkB;AAC7B,sBAAQ,iDAAC,iEAAD,OAAR;AACH,C;;;;;;;;;;;;;;;;ACLD;AAEA,iEAAe,IAAIC,iDAAJ,CAAgB,YAAhB,CAAf,E;;;;;;;;;;;;;;;;ACFA;AAEA,iEAAe,IAAIA,iDAAJ,CAAgB,YAAhB,CAAf,E","file":"src_main_js_pages_admin_Index_js.bundle.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { Formik } from 'formik';\r\n\r\nimport Form from '../form/Form';\r\nimport FormInputText from '../form/MUIFormInputText';\r\nimport User from '../../lib/entities/User';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Alert from '../popups/Alert';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nexport const useStyles = makeStyles((theme) => ({    \r\n    formadd: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        padding: '10px 15px 20px'        \r\n    },\r\n    buttonContainer: {\r\n        margin: '0 20px', \r\n        alignSelf: 'center'       \r\n    }\r\n}));\r\n\r\n\r\n\r\nexport default function AddUser ({ reload, setReload }) {\r\n\r\n    const user = new User();  \r\n    const [ alert, setAlert ] = useState(false);    \r\n    user.getInitialValue();    \r\n    const { t } = useTranslation(); \r\n    const classes = useStyles();   \r\n\r\n    return (\r\n        <>\r\n            { alert && <Alert open={alert ? true : false} setOpen={setAlert} type={alert.type}>{alert.message}</Alert> }\r\n            <Formik\r\n                initialValues={user.getValues()}\r\n                validationSchema={user.getValidationSchema(t)}                \r\n                onSubmit= {(values, { setSubmitting, resetForm }) => {                    \r\n                    user.save(values, setSubmitting, setAlert).then(() => {\r\n                        setReload(reload + 1);\r\n                        resetForm(user.getValues());\r\n                    });\r\n                }}\r\n            >\r\n                { ({ submitForm, isSubmitting }) => (\r\n                    <Form>\r\n                        <Paper className={classes.formadd} elevation={3}>                                           \r\n                            <FormInputText \r\n                                label={t('form.user.add.name')}                                \r\n                                name=\"name\"   \r\n                            />\r\n                            <FormInputText \r\n                                label={t('form.user.add.surname')}                                \r\n                                name=\"surname\"   \r\n                            />\r\n                            <FormInputText \r\n                                label={t('form.user.add.username')}                                \r\n                                name=\"username\"   \r\n                            />\r\n                            <FormInputText \r\n                                label={t('form.user.add.password')}                                \r\n                                name=\"pass\"\r\n                                type=\"password\"   \r\n                            />                           \r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={isSubmitting}\r\n                                onClick={submitForm}\r\n                                endIcon={<SaveIcon />}\r\n                                className={classes.buttonContainer}\r\n                            >\r\n                                {t('general.add')}\r\n                            </Button> \r\n                        </Paper>                            \r\n                    </Form>\r\n                )}                \r\n            </Formik>\r\n        \r\n        </>\r\n    )\r\n}","import React, { useState } from 'react';\r\n\r\nimport AddUser from './AddUser';\r\nimport UserTable from './UserTable';\r\n\r\n\r\nexport default function AdminUser () {\r\n\r\n    const [ reload, setReload ] = useState(0);\r\n\r\n    return (\r\n        <>\r\n            <AddUser reload={reload} setReload={setReload}/>\r\n            <UserTable reload={reload}/>\r\n        </>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\n\r\nimport SelectUser from './funciones/SelectUser';\r\nimport SelectFunciones from './funciones/SelectFunciones';\r\n\r\nimport RoleService from '../../service/backend/Services/RoleService';\r\n\r\n\r\nexport default function Funciones () {\r\n\r\n    const [ user, setUser ] = useState(undefined);\r\n    const [ allRoles, setAllRoles ] = useState([]);\r\n    \r\n    useEffect(() => {\r\n        RoleService.getAll()\r\n        .then(res => {\r\n            setAllRoles(res.data);\r\n        })\r\n    },[])\r\n\r\n    return (\r\n        <>\r\n            <SelectUser user={ user } setUser={ setUser } />\r\n            {user && <SelectFunciones user= { user } setUser={ setUser } allRoles={ allRoles }/>}\r\n        </>\r\n    )\r\n}","import React, {useState} from \"react\";\r\n\r\nimport TabBar from \"./TabBar\";\r\nimport TabPanel from \"./TabPanel\";\r\nimport AddUser from \"./AddUser\";\r\nimport AdminUser from \"./AdminUser\";\r\nimport Funciones from \"./Funciones\";\r\n\r\nexport default function MainWindow() {\r\n\r\n    const [ tab, setTab ] = useState(0)\r\n\r\n    const handleTabChange = (e, newValue) => {\r\n        setTab(newValue);\r\n    }\r\n\r\n  return (\r\n    <>\r\n      <TabBar value={tab} handleChange={handleTabChange}/>\r\n      <TabPanel value={tab} index={0}>\r\n          <AdminUser />        \r\n      </TabPanel>     \r\n      <TabPanel value={tab} index={1}>\r\n        <Funciones />\r\n      </TabPanel>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport {AuthContext} from \"../../context/AuthContextProvider\";\r\n\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\n\r\nexport default function TabBar({value, handleChange}) {\r\n\r\n  const { user } = useContext(AuthContext);\r\n  const [ userRole, setUserRole] = useState(user.role);\r\n\r\n  useEffect( () => {\r\n    if (user != null) {\r\n        setUserRole(user.role);\r\n    }\r\n    else {\r\n        setUserRole(null);\r\n    }\r\n}, [user])\r\n\r\n  return (  \r\n    <AppBar position=\"static\" color=\"default\">\r\n      <Tabs\r\n        value={value}\r\n        onChange={handleChange}   \r\n        variant=\"scrollable\"\r\n        scrollButtons=\"auto\"     \r\n      >\r\n        <Tab label=\"Usuarios\" {...a11yProps(0)} disabled={!userRole.includes(\"ROLE_MODIFY_USERS\")}/>                \r\n        <Tab label=\"Funciones\" {...a11yProps(1)} disabled={!userRole.includes(\"ROLE_ADD_ROLES\")}/>        \r\n      </Tabs>\r\n    </AppBar>    \r\n  )\r\n}\r\n","import React from \"react\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nexport default function TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n\r\n    return (\r\n        <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`simple-tabpanel-${index}`}\r\n        aria-labelledby={`simple-tab-${index}`}\r\n        {...other}\r\n        >\r\n        {value === index && <Box p={3}>{children}</Box>}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { DataGrid, GridToolbar, GridOverlay } from '@material-ui/data-grid';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport User from '../../lib/entities/User';\r\nimport errorService from '../../service/error/ErrorController';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useStyles = makeStyles((theme) => ({    \r\n    tablecontainer: {\r\n        margin: '20px 0',\r\n        display: 'flex',\r\n        height: '100%'        \r\n    },\r\n    root: {\r\n        '& .MuiDataGrid-cellEditing': {\r\n          backgroundColor: 'rgb(255,215,115, 0.19)',\r\n          color: '#1a3e72',\r\n        },\r\n        '& .Mui-error': {\r\n          backgroundColor: `rgb(126,10,15, 0.2)`,\r\n          color: '#750f0f',\r\n          fontStyle: 'italic'\r\n        },\r\n    }\r\n}));\r\n\r\nconst columns = (t) => { return  [\r\n    {\r\n        field: 'name',\r\n        headerName: t('table.user.name'),\r\n        type: 'string',\r\n        flex: 1,\r\n        editable: true\r\n    },\r\n    {\r\n        field: 'surname',\r\n        headerName: t('table.user.surname'),\r\n        type: 'string',\r\n        flex: 1,\r\n        editable: true\r\n    },\r\n    {\r\n        field: 'username',\r\n        headerName: t('table.user.username'),\r\n        type: 'string',\r\n        flex: 1,\r\n        editable: true\r\n    },\r\n    {\r\n        field: 'pass',\r\n        headerName: t('table.user.pass'),\r\n        type: 'string',\r\n        flex: 1,\r\n        editable: true\r\n    },\r\n    {\r\n        field: 'creationDate',\r\n        headerName: t('table.user.creationDate'),\r\n        type: 'dateTime',\r\n        flex: 0.7,\r\n        editable: false\r\n    },\r\n]};\r\n\r\nfunction validateText(text) {\r\n    const re =\r\n      /^[a-zA-Z ]{3,50}/;\r\n    return re.test(String(text).toLowerCase());\r\n}\r\n\r\nconst getData = (setLoading, setData, setTotalElements, fetchIdRef) => {\r\n    const user = new User();\r\n    const fetchId = ++fetchIdRef.current;\r\n\r\n    if (fetchId === fetchIdRef.current) {            \r\n        setLoading(true);\r\n        user.getAll()\r\n            .then(result => {\r\n                setLoading(false); \r\n                setData(result.data.data);\r\n                setTotalElements(result.data.totalElements); \r\n            })\r\n            .catch(err => {\r\n                errorService.checkError(err);\r\n            })\r\n    }\r\n}; \r\n\r\nexport default function UserTable ({reload}) {\r\n\r\n    const { t } = useTranslation(); \r\n    const classes = useStyles();\r\n    const [ data, setData ] = useState([]);\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [ totalElements, setTotalElements ] = useState(0);    \r\n    const fetchIdRef = useRef(0);\r\n    const [editRowsModel, setEditRowsModel] = useState({});    \r\n\r\n    useEffect(() => {\r\n        getData(setLoading, setData, setTotalElements, fetchIdRef);\r\n    },[reload]);\r\n    \r\n    const handleEditCellChange = useCallback(\r\n        ({ id, field, props }) => {\r\n            const values = props;\r\n            if (field === 'name') {                \r\n                const isValid = validateText(values.value);            \r\n                const newState = {};            \r\n                newState[id] = {\r\n                ...editRowsModel[id],\r\n                name: { ...props, error: !isValid },\r\n                };    \r\n                setEditRowsModel((state) => ({ ...state, ...newState })); \r\n            }          \r\n            else if (field === 'surname') {                \r\n                const isValid = validateText(values.value);            \r\n                const newState = {};            \r\n                newState[id] = {\r\n                ...editRowsModel[id],\r\n                surname: { ...props, error: !isValid },\r\n                };    \r\n                setEditRowsModel((state) => ({ ...state, ...newState }));\r\n            }\r\n            else if (field === 'pass') {                \r\n                const isValid = validateText(values.value);            \r\n                const newState = {};            \r\n                newState[id] = {\r\n                ...editRowsModel[id],\r\n                pass: { ...props, error: !isValid },\r\n                };    \r\n                setEditRowsModel((state) => ({ ...state, ...newState }));\r\n            }\r\n            else if (field === 'username') {                 \r\n                const isValid = validateText(values.value);            \r\n                const newState = {};            \r\n                newState[id] = {\r\n                ...editRowsModel[id],\r\n                username: { ...props, error: !isValid },\r\n                };    \r\n                setEditRowsModel((state) => ({ ...state, ...newState }));\r\n            }\r\n            \r\n        },\r\n        [editRowsModel],\r\n      );\r\n\r\n    const handleEditCellChangeCommitted = useCallback(        \r\n        ({ id, field, props }) => {\r\n            const user = new User();\r\n            const values = props;            \r\n            const rowToSave = data.filter(row => {               \r\n                if (row.id === id) {\r\n                    row[field] = values.value;\r\n                    return { ...row };\r\n                }\r\n            }); \r\n            user.save(rowToSave[0], setLoading)\r\n                .then(res => {\r\n                    console.log(res)\r\n                    const updatedRows = data.map((row) => {\r\n                        if (row.id === id) {\r\n                            return res.data;\r\n                        }\r\n                        return row;\r\n                    });\r\n                    setData(updatedRows);\r\n                })\r\n                .catch(err => {\r\n                    errorService.checkError(err);\r\n                })         \r\n        },\r\n        [data],\r\n    );\r\n\r\n\r\n    \r\n\r\n    return (\r\n        <Paper elevation={3} className={classes.tablecontainer}>\r\n            <DataGrid\r\n                className={classes.root}\r\n                components={{\r\n                    Toolbar: GridToolbar,\r\n                    LoadingOverlay: CustomLoadingOverlay,\r\n                }}\r\n                columns={columns(t)}\r\n                rows={data}\r\n                loading={loading}                \r\n                hideFooter\r\n                autoHeight\r\n                editRowsModel={editRowsModel}                \r\n                onEditCellChange={handleEditCellChange}\r\n                onEditCellChangeCommitted={handleEditCellChangeCommitted}               \r\n            />\r\n        </Paper>\r\n    )\r\n}\r\n\r\nfunction CustomLoadingOverlay() {\r\n    return (\r\n      <GridOverlay>\r\n        <div style={{ position: 'absolute', top: 0, width: '100%' }}>\r\n          <LinearProgress />\r\n        </div>\r\n      </GridOverlay>\r\n    );\r\n  }","import React, { useState } from 'react';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n    tablecontainer: {\r\n        width: 400,\r\n        height: 450,        \r\n        overflow: 'auto',\r\n        [theme.breakpoints.down('md')]: {\r\n            width: '250px',\r\n            height: '300px'\r\n        },     \r\n    }    \r\n}));\r\n\r\nexport default function Funciones ({ roles, checked, setChecked }) {\r\n\r\n    const classes = useStyles();\r\n \r\n    const handleToggle = (value) => () => {\r\n        const currentIndex = checked.indexOf(value);\r\n        const newChecked = [...checked];\r\n    \r\n        if (currentIndex === -1) {\r\n            newChecked.push(value);\r\n        } else {\r\n            newChecked.splice(currentIndex, 1);\r\n        }    \r\n        setChecked(newChecked);\r\n    };\r\n\r\n    return (\r\n        <Paper className={classes.tablecontainer}>\r\n            <List dense component=\"div\" role=\"list\">\r\n                {roles.map((value) => {\r\n                    const labelId = `transfer-list-item-${value}-label`;\r\n\r\n                    return (\r\n                        <ListItem key={value.id} role=\"listitem\" button onClick={handleToggle(value)}>\r\n                            <ListItemIcon>\r\n                                <Checkbox\r\n                                    checked={checked.indexOf(value) !== -1}\r\n                                    tabIndex={-1}\r\n                                    disableRipple\r\n                                    inputProps={{ 'aria-labelledby': labelId }}\r\n                                />\r\n                            </ListItemIcon>\r\n                            <ListItemText id={labelId} primary={value.description} />\r\n                        </ListItem>\r\n                    );\r\n                })}\r\n            </List>            \r\n        </Paper>\r\n    )\r\n}","import React, { useState , useEffect } from 'react';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport UserService from '../../../service/backend/Services/UserService';\r\n\r\nimport ListFunciones from './ListFunciones.js';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({ \r\n    root: {\r\n        margin: 'auto',\r\n    },   \r\n    tablecontainer: {\r\n        margin: '20px 0',\r\n        display: 'flex',\r\n        height: '100%'        \r\n    },\r\n    button: {\r\n        margin: theme.spacing(0.5, 0),\r\n    }, \r\n}));\r\n\r\nfunction intersection(a, b) {\r\n    const bId = b.map(val => val.id);\r\n    return a.filter((value) => bId.indexOf(value.id) !== -1);\r\n}\r\n\r\nfunction not(a, b) {\r\n    const bId = b.map(val => val.id);\r\n    return a.filter((value) => bId.indexOf(value.id) === -1);\r\n}\r\n\r\n\r\n\r\nexport default function Funciones ({ user , setUser, allRoles }) {\r\n\r\n    const classes = useStyles();\r\n    const [left, setLeft] = useState([]);\r\n    const [right, setRight] = useState([]);\r\n    const [checked, setChecked] = useState([]); \r\n    const [ submitting, setSubmitting ] = useState(false); \r\n    const { t } = useTranslation();  \r\n    \r\n    const leftChecked = intersection(checked, left);\r\n    const rightChecked = intersection(checked, right);\r\n\r\n    const handleAllRight = () => {\r\n        setRight(right.concat(left));\r\n        setLeft([]);\r\n    };\r\n    \r\n    const handleCheckedRight = () => {\r\n        setRight(right.concat(leftChecked));\r\n        setLeft(not(left, leftChecked));\r\n        setChecked(not(checked, leftChecked));\r\n    };\r\n\r\n    const handleCheckedLeft = () => {\r\n        setLeft(left.concat(rightChecked));\r\n        setRight(not(right, rightChecked));\r\n        setChecked(not(checked, rightChecked));\r\n    };\r\n\r\n    const handleAllLeft = () => {\r\n        setLeft(left.concat(right));\r\n        setRight([]);\r\n    };\r\n\r\n    useEffect(() => {\r\n        setRight(user.role);\r\n        setLeft(not(allRoles, user.role));        \r\n    }, [user]);\r\n\r\n    useEffect(() => {        \r\n        if ( user.role.length != right.length && right.length != 0) {\r\n            setSubmitting(true);\r\n            const newUser = {...user};\r\n            newUser.role = right;            \r\n            UserService.save(newUser)\r\n            .then(res => {\r\n                setUser(res.data);\r\n                setSubmitting(false);\r\n            }) \r\n        }               \r\n    },[right]);\r\n\r\n    return (\r\n        <Paper className={classes.tablecontainer} elevation={3}>\r\n            <Grid container spacing={2} justify=\"center\" alignItems=\"center\" className={classes.root}>\r\n                <Grid item>\r\n                    <Typography variant=\"h5\" gutterBottom>\r\n                        {t('admin.funciones.selectfunciones.rolestoassign')}\r\n                    </Typography>\r\n                    <ListFunciones roles={left} checked={checked} setChecked={setChecked}/> \r\n                </Grid>\r\n                <Grid item>\r\n                    <Grid container direction=\"column\" alignItems=\"center\">\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            size=\"small\"\r\n                            className={classes.button}\r\n                            onClick={handleAllRight}\r\n                            disabled={left.length === 0}\r\n                            aria-label=\"move all right\"\r\n                            disabled={submitting}\r\n                        >\r\n                            ≫\r\n                        </Button>\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            size=\"small\"\r\n                            className={classes.button}\r\n                            onClick={handleCheckedRight}\r\n                            disabled={leftChecked.length === 0}\r\n                            aria-label=\"move selected right\"\r\n                            disabled={submitting}\r\n                        >\r\n                            &gt;\r\n                        </Button>\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            size=\"small\"\r\n                            className={classes.button}\r\n                            onClick={handleCheckedLeft}\r\n                            disabled={rightChecked.length === 0}\r\n                            aria-label=\"move selected left\"\r\n                            disabled={submitting}\r\n                        >\r\n                            &lt;\r\n                        </Button>\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            size=\"small\"\r\n                            className={classes.button}\r\n                            onClick={handleAllLeft}\r\n                            disabled={right.length === 0}\r\n                            aria-label=\"move all left\"\r\n                            disabled={submitting}\r\n                        >\r\n                            ≪\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Typography variant=\"h5\" gutterBottom>\r\n                        {t('admin.funciones.selectfunciones.userroles')}\r\n                    </Typography>\r\n                    <ListFunciones roles={right} checked={checked} setChecked={setChecked} /> \r\n                </Grid>\r\n            </Grid>                      \r\n        </Paper>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport parse from 'autosuggest-highlight/parse';\r\nimport match from 'autosuggest-highlight/match';\r\n\r\nimport Alert from '../../popups/Alert';\r\n\r\nimport UserService from '../../../service/backend/Services/UserService';\r\nimport ErrorController from '../../../service/error/ErrorController';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({    \r\n    formadd: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        padding: '10px 15px 20px'        \r\n    },\r\n    buttonContainer: {\r\n        margin: '0 20px', \r\n        alignSelf: 'center'       \r\n    }\r\n}));\r\n\r\nconst renderOption =  (option, { inputValue }) => {\r\n    const matches = match(option, inputValue);\r\n    const parts = parse(option, matches);\r\n\r\n    return (\r\n      <div>\r\n        {parts.map((part, index) => (\r\n          <span key={index} style={{ fontWeight: part.highlight ? 700 : 400}}>\r\n            {part.text}\r\n          </span>\r\n        ))}\r\n      </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default function AdminUser ({ user, setUser }) {\r\n    \r\n    const classes = useStyles();\r\n    const { t } = useTranslation();\r\n\r\n    const [ alert, setAlert ] = useState(false);\r\n    const [ selected, setSelected ] = useState(false);\r\n    const [ options, setOptions ] = useState([]);\r\n    const [ open, setOpen ] = useState(false);\r\n    const [ autocomplete, setAutocomplete ] = useState(null);\r\n    const [ inputValue, setInputValue ] = useState(user ? user : '');\r\n    const loading = open && options.length === 0;\r\n\r\n\r\n    const onDeleteClick = () => {\r\n        setSelected(false);\r\n        UserService.delete(user)\r\n            .then( res => {\r\n                if (res.status == 200) {\r\n                    setAlert({type: 'success', message: t('admin.funciones.selectuser.deletesuccess')})\r\n                }\r\n                else {\r\n                    setAlert({type: 'error', message: t('admin.funciones.selectuser.deleteerror')})\r\n                } \r\n                setUser(undefined);\r\n                setInputValue('');               \r\n            })\r\n            .catch( err => {\r\n                ErrorController.checkError(err, setAlert);\r\n                setSelected(true);\r\n            })\r\n    }   \r\n    \r\n    const onAutoCompleteChange = (e, newValue) => {\r\n        setAutocomplete(newValue || undefined);\r\n    };\r\n\r\n    const onInputChange = (event, newInputValue) => {\r\n        setInputValue(newInputValue);\r\n    };\r\n\r\n    useEffect(() => {\r\n        setSelected(false);              \r\n        if (autocomplete != null) {            \r\n            UserService.getById({id: autocomplete?.split(\":\")[0]})\r\n                .then( res => {\r\n                    if (res.status != 200) {\r\n                        setAlert({type: 'error', message: t('admin.funciones.selectuser.deleteerror')})\r\n                    }\r\n                    else {                        \r\n                        setUser(res.data);\r\n                        setSelected(true);\r\n                    }                               \r\n                })\r\n                .catch( err => {\r\n                    ErrorController.checkError(err, setAlert);\r\n                    setSelected(true);\r\n                })\r\n        }\r\n    },[autocomplete]);    \r\n\r\n    useEffect(() => {\r\n        let active = true;    \r\n        if (!loading) {\r\n          return undefined;\r\n        }    \r\n        try {\r\n            (async () => {\r\n                const response = await UserService.getAll();                \r\n                const objects = await response.data.data.map(n => (\r\n                    n.id + \": \" + n.name + \" \" + n.surname + \" --- \"+ n.username\r\n                ));         \r\n                if (active) {\r\n                    setOptions(objects);\r\n                }\r\n            })();\r\n        }\r\n        catch (e) {\r\n          errorService.checkError(e);\r\n        }       \r\n        return () => {\r\n          active = false;\r\n        };\r\n    }, [loading]);\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n          setOptions([]);\r\n        }\r\n    }, [open]);\r\n\r\n\r\n    return (\r\n        <Paper className={classes.formadd} elevation={3}> \r\n            { alert && <Alert open={alert ? true : false} setOpen={setAlert} type={alert.type}>{alert.message}</Alert> }               \r\n            <Autocomplete\r\n                id={`id-autocomplete-users`}\r\n                options={options}\r\n                getOptionLabel={(option) => option}\r\n                autoHighlight\r\n                clearOnEscape\r\n                autoComplete\r\n                openOnFocus\r\n                blurOnSelect\r\n                value={autocomplete}\r\n                onChange={onAutoCompleteChange}\r\n                inputValue={inputValue}\r\n                style={{ width: '300px' }}\r\n                onInputChange={onInputChange}\r\n                renderInput={(params) => (\r\n                  <TextField {...params} \r\n                  label={t('admin.funciones.selectuser.user')}\r\n                  InputProps={{\r\n                    ...params.InputProps,\r\n                    endAdornment:(\r\n                      <>\r\n                        {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\r\n                        {params.InputProps.endAdornment}\r\n                      </>\r\n                    )\r\n                  }}\r\n                />)}\r\n                getOptionSelected={(option, value) => option === value}\r\n                renderOption={renderOption}\r\n                open={open}\r\n                onOpen={() => setOpen(true)}\r\n                onClose={() => setOpen(false)}\r\n                loading={loading}\r\n            />            \r\n            <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                disabled={!selected}\r\n                onClick={onDeleteClick}\r\n                endIcon={<DeleteIcon />}\r\n                className={classes.buttonContainer}\r\n            >\r\n                {t('general.delete')}\r\n            </Button>\r\n        </Paper>\r\n    )\r\n}","\r\nimport i18next from 'i18next';\r\nimport * as Yup from 'yup';\r\nimport service from '../../service/backend/Services/UserService';\r\nimport errorService from '../../service/error/ErrorController';\r\nimport dayjs from 'dayjs';\r\n\r\n\r\nexport default class User {\r\n    \r\n    \r\n    constructor () {\r\n        this.id;\r\n        this.name;\r\n        this.surname;\r\n        this.roles;\r\n        this.username;\r\n        this.pass;\r\n        this.creationDate;        \r\n    }\r\n\r\n    getInitialValue(){                    \r\n        this.id = null;\r\n        this.name = '';\r\n        this.surname = '';\r\n        this.roles = [];\r\n        this.username = '';\r\n        this.pass = '';\r\n        this.creationDate = dayjs();      \r\n    }\r\n    \r\n    getValidationSchema(t){\r\n        return Yup.object().shape({\r\n            name: Yup.string()\r\n                .min(2,t('form.add.errors.tooshort'))\r\n                .max(50,t('form.add.errors.toolong'))\r\n                .required(t('form.add.errors.required'))\r\n            ,surname: Yup.string()\r\n                .min(2,t('form.add.errors.tooshort'))\r\n                .max(50,t('form.add.errors.toolong'))\r\n                .required(t('form.add.errors.required'))\r\n            ,username: Yup.string()\r\n                .min(3,t('form.add.errors.tooshort'))\r\n                .max(50,t('form.add.errors.toolong'))\r\n                .required(t('form.add.errors.required'))  \r\n            ,pass: Yup.string()\r\n                .min(3,t('form.add.errors.tooshort'))\r\n                .max(50,t('form.add.errors.toolong'))\r\n                .required(t('form.add.errors.required'))\r\n        })\r\n    }\r\n\r\n    save(values, setSubmitting, setAlert) {   \r\n        return service.save(values).then((res) => {\r\n            if (res.status != 200 && res.status != 412) {\r\n                setAlert ? setAlert({type: 'error', message: i18next.t('form.add.errors.unsuccesful')}) : null;\r\n            }\r\n            if (res.status == 412) {\r\n                setAlert ? setAlert({type: 'error', message: i18next.t('form.add.errors.usernameexists')}) : null;\r\n            }\r\n            if (res.status == 200) {\r\n                setAlert ? setAlert({type: 'success', message: i18next.t('form.message.add.success')}) : null;\r\n            }\r\n            setSubmitting(false);\r\n            return res;               \r\n        }) \r\n        .catch(e => {\r\n            errorService.checkError(e, setAlert); \r\n            setSubmitting(false);\r\n        });      \r\n    }\r\n\r\n    getValues(){\r\n        return {\r\n            id: this.id,\r\n            name: this.name,\r\n            surname: this.surname,\r\n            roles: this.roles,\r\n            username: this.username,\r\n            pass: this.pass,\r\n            creationDate: this.creationDate \r\n        }\r\n    }\r\n\r\n    delete( user , setAlert) {\r\n        service.delete({ ...user })\r\n        .then(res => {\r\n            if (res.status != 200) {\r\n                setAlert ? setAlert({type: 'error', message: i18next.t('form.modify.delete.unsuccesful')}) : null;\r\n            } \r\n            else {\r\n                setAlert ? setAlert({type: 'success', message: i18next.t('form.modify.delete.user.succesful')}) : null;\r\n            }           \r\n        })\r\n        .catch(e => {\r\n            errorService.checkError(e, setAlert); \r\n            setSubmitting(false);\r\n        }); \r\n    }\r\n\r\n    getAll() {\r\n        return service.getAll();\r\n    }\r\n\r\n\r\n}","import React from 'react';\r\nimport Admin from '../../components/admin/MainWindow';\r\n\r\nexport default function Index () {\r\n    return (<Admin />)\r\n}","import BaseService from \"../BaseService\";\r\n\r\nexport default new BaseService(\"/auth/role\");","import BaseService from \"../BaseService\";\r\n\r\nexport default new BaseService(\"/auth/user\");"],"sourceRoot":""}